import{X as C,r as c,H as Y,_ as $,Z as r,$ as A,a0 as m,a4 as s,a1 as o,aa as P,a8 as q,ad as x,a5 as v,ab as p,ac as g,ae as w,ah as V,ak as S,a2 as Q,a3 as E,a7 as L}from"./index-PccLikzK.js";import{Q as R}from"./QPage-ob51rNRt.js";const F=C({name:"SongWordPage",setup(){const e=c("Please click play to listen to this English song"),n=c(!1),k=c(""),I=c(!1),f=c([]);function h(){f.value=[[{text:"You",isBlank:!1,userInput:"You"},{text:"are",isBlank:!1,userInput:"are"},{text:"my",isBlank:!1,userInput:"my"},{text:"",isBlank:!0,userInput:"",correctAnswer:"sunshine"},{text:",",isBlank:!1,userInput:","},{text:"my",isBlank:!1,userInput:"my"},{text:"only",isBlank:!1,userInput:"only"},{text:"",isBlank:!0,userInput:"",correctAnswer:"sunshine"},{text:",",isBlank:!1,userInput:","}],[{text:"You",isBlank:!1,userInput:"You"},{text:"",isBlank:!0,userInput:"",correctAnswer:"make"},{text:"me",isBlank:!1,userInput:"me"},{text:"",isBlank:!0,userInput:"",correctAnswer:"happy"},{text:"when",isBlank:!1,userInput:"when"},{text:"skies",isBlank:!1,userInput:"skies"},{text:"are",isBlank:!1,userInput:"are"},{text:"",isBlank:!0,userInput:"",correctAnswer:"gray"},{text:".",isBlank:!1,userInput:"."}],[{text:"You'll",isBlank:!1,userInput:"You'll"},{text:"never",isBlank:!1,userInput:"never"},{text:"",isBlank:!0,userInput:"",correctAnswer:"know"},{text:"dear,",isBlank:!1,userInput:"dear,"},{text:"how",isBlank:!1,userInput:"how"},{text:"",isBlank:!0,userInput:"",correctAnswer:"much"},{text:"I",isBlank:!1,userInput:"I"},{text:"",isBlank:!0,userInput:"",correctAnswer:"love"},{text:"you.",isBlank:!1,userInput:"you."}],[{text:"Please",isBlank:!1,userInput:"Please"},{text:"don't",isBlank:!1,userInput:"don't"},{text:"",isBlank:!0,userInput:"",correctAnswer:"take"},{text:"my",isBlank:!1,userInput:"my"},{text:"",isBlank:!0,userInput:"",correctAnswer:"sunshine"},{text:"away.",isBlank:!1,userInput:"away."}],[{text:"You",isBlank:!1,userInput:"You"},{text:"are",isBlank:!1,userInput:"are"},{text:"my",isBlank:!1,userInput:"my"},{text:"",isBlank:!0,userInput:"",correctAnswer:"sunshine"},{text:",",isBlank:!1,userInput:","},{text:"my",isBlank:!1,userInput:"my"},{text:"only",isBlank:!1,userInput:"only"},{text:"",isBlank:!0,userInput:"",correctAnswer:"sunshine"},{text:",",isBlank:!1,userInput:","}],[{text:"You",isBlank:!1,userInput:"You"},{text:"",isBlank:!0,userInput:"",correctAnswer:"make"},{text:"me",isBlank:!1,userInput:"me"},{text:"",isBlank:!0,userInput:"",correctAnswer:"happy"},{text:"when",isBlank:!1,userInput:"when"},{text:"skies",isBlank:!1,userInput:"skies"},{text:"are",isBlank:!1,userInput:"are"},{text:"",isBlank:!0,userInput:"",correctAnswer:"gray"},{text:".",isBlank:!1,userInput:"."}],[{text:"You'll",isBlank:!1,userInput:"You'll"},{text:"never",isBlank:!1,userInput:"never"},{text:"",isBlank:!0,userInput:"",correctAnswer:"know"},{text:"dear,",isBlank:!1,userInput:"dear,"},{text:"how",isBlank:!1,userInput:"how"},{text:"",isBlank:!0,userInput:"",correctAnswer:"much"},{text:"I",isBlank:!1,userInput:"I"},{text:"",isBlank:!0,userInput:"",correctAnswer:"love"},{text:"you.",isBlank:!1,userInput:"you."}],[{text:"Please",isBlank:!1,userInput:"Please"},{text:"don't",isBlank:!1,userInput:"don't"},{text:"",isBlank:!0,userInput:"",correctAnswer:"take"},{text:"my",isBlank:!1,userInput:"my"},{text:"",isBlank:!0,userInput:"",correctAnswer:"sunshine"},{text:"away.",isBlank:!1,userInput:"away."}]]}function u(){const t=new SpeechSynthesisUtterance(e.value);t.lang="en-US",t.rate=.8,speechSynthesis.speak(t)}function d(){I.value=!0;let t=!0;const B=[];if(f.value.forEach((a,l)=>{let y=0;a.forEach(i=>{if(i.isBlank){y++;const _=i.userInput.toLowerCase().trim(),b=i.correctAnswer?.toLowerCase()||"";_!==b&&(t=!1,B.push({userInput:i.userInput||"(空白)",correctAnswer:i.correctAnswer||"",position:`第 ${l+1} 行`,wordPosition:`第 ${y} 個空格`}))}})}),t)k.value=`恭喜你！🎉
全部答對了！
你已經完全掌握了這首歌的歌詞！
繼續保持！`;else{let a=`加油！再試一次：

`;B.forEach(l=>{a+=`${l.position}${l.wordPosition}：
你的答案：「${l.userInput}」
正確答案：「${l.correctAnswer}」

`}),a+="提示：注意單字的拼寫喔！",k.value=a}n.value=!0,setTimeout(()=>{n.value=!1,I.value=!1},5e3)}return Y(()=>{h(),u()}),{gameInstruction:e,lyricsLines:f,showResult:n,resultMessage:k,showingResult:I,speakInstruction:u,checkAnswer:d}}}),U={class:"row items-center q-mb-md"},T={class:"col"},j={class:"text-h6 q-mb-md text-center"},z={class:"row justify-center q-mt-lg"},D={class:"col-12 col-sm-10 col-md-8"},K={class:"row items-center q-gutter-sm"},M={key:1,class:"text-h6"},N={class:"row justify-center q-mt-lg"},W={class:"text-h6 text-center",style:{"white-space":"pre-line"}};function H(e,n,k,I,f,h){return r(),A(R,{class:"q-pa-md"},{default:m(()=>[s("div",U,[s("h1",T,[o(P,{name:"music_note",size:"md",color:"primary",class:"q-mr-sm"}),n[1]||(n[1]=q(" 英文兒歌克漏字學習 "))])]),s("div",j,[s("span",null,x(e.gameInstruction),1),o(v,{icon:"volume_up",color:"primary",round:"",size:"lg",class:"q-ml-sm",onClick:e.speakInstruction},null,8,["onClick"])]),n[2]||(n[2]=s("div",{class:"row justify-center q-mb-lg"},[s("div",{class:"col-12 col-sm-10 col-md-8"},[s("div",{class:"video-container"},[s("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/4Oc6PTtcthA",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})])])],-1)),s("div",z,[s("div",D,[(r(!0),p(w,null,g(e.lyricsLines,(u,d)=>(r(),p("div",{key:d,class:"q-mb-md"},[s("div",K,[(r(!0),p(w,null,g(u,(t,B)=>(r(),p(w,{key:`${d}-${B}`},[t.isBlank?(r(),A(V,{key:0,modelValue:t.userInput,"onUpdate:modelValue":a=>t.userInput=a,outlined:"",dense:"",class:"blank-input",disable:e.showingResult,onKeyup:S(e.checkAnswer,["enter"])},null,8,["modelValue","onUpdate:modelValue","disable","onKeyup"])):(r(),p("span",M,x(t.text),1))],64))),128))])]))),128)),s("div",N,[o(v,{label:"檢查答案",color:"primary",onClick:e.checkAnswer,disable:e.showingResult},null,8,["onClick","disable"])])])]),o(L,{modelValue:e.showResult,"onUpdate:modelValue":n[0]||(n[0]=u=>e.showResult=u)},{default:m(()=>[o(Q,{style:{"min-width":"350px","max-width":"80vw"}},{default:m(()=>[o(E,{class:"column items-center"},{default:m(()=>[s("span",W,x(e.resultMessage),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const Z=$(F,[["render",H],["__scopeId","data-v-2a51932d"],["__file","SongWordPage.vue"]]);export{Z as default};
