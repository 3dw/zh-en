import{X as Ee,r as f,b as Ae,H as we,V as De,w as Te,n as je,_ as Se,Z as g,$ as Ve,a0 as $,ab as F,a1 as p,aa as Y,a4 as u,a5 as x,a8 as A,ad as B,I as $e,ax as Pe,af as Re,a9 as L,ag as G,bl as Z,a6 as qe,ae as Ie}from"./index-C0G0nw4p.js";import{Q as Me}from"./QSlideTransition-CWhu4qww.js";import{Q as xe}from"./QPage-CETVFdkM.js";import{g as Q,r as k,a as O,s as S,b as oe,p as ae}from"./index.esm2017-CIO01KtW.js";import"./index.esm2017-ClwH-SB1.js";const Le=Ee({name:"LuckySlotPage",props:{uid:{type:String,default:""}},setup(l,{emit:i}){const C=f(null),V=f(null),P=f(!0),w=f(!1),m=f(!1),v=f(null),ce=f(!1),U=f(""),R=f(""),W=f(!1),z=f(!1),D=f(""),ne=f(""),J=f(""),_=f({A:"",B:"",C:"",D:""}),q=f(""),ee=f({title:"",content:"",tip:""}),ie=Ae(()=>!v.value||!v.value.task?!1:v.value.title.includes("動詞")||v.value.title.includes("名詞")||v.value.title.includes("形容詞")||v.value.title.includes("特殊")?U.value.trim().length>=10:v.value.title.includes("雙七")?["A","B","C","D"].includes(R.value):v.value.title.includes("幸運")?!!W.value:!1),T=[{type:"verb",value:"run",emoji:"🏃",category:"運動",text:"run"},{type:"verb",value:"eat",emoji:"🍽️",category:"飲食",text:"eat"},{type:"verb",value:"jump",emoji:"🦘",category:"運動",text:"jump"},{type:"verb",value:"play",emoji:"🎮",category:"娛樂",text:"play"},{type:"verb",value:"sing",emoji:"🎤",category:"音樂",text:"sing"},{type:"noun",value:"guitar",emoji:"🎸",category:"音樂",text:"guitar"},{type:"noun",value:"book",emoji:"📚",category:"校園",text:"book"},{type:"noun",value:"computer",emoji:"💻",category:"科技",text:"computer"},{type:"noun",value:"ball",emoji:"⚽",category:"運動",text:"ball"},{type:"noun",value:"fruit",emoji:"🍎",category:"飲食",text:"fruit"},{type:"adjective",value:"happy",emoji:"😊",category:"情緒",text:"happy"},{type:"adjective",value:"smart",emoji:"🧠",category:"特質",text:"smart"},{type:"adjective",value:"fast",emoji:"⚡",category:"特質",text:"fast"},{type:"adjective",value:"big",emoji:"📏",category:"大小",text:"big"},{type:"adjective",value:"sweet",emoji:"🍭",category:"味道",text:"sweet"},{type:"special",value:"seven",emoji:"7️⃣",category:"特殊",text:"7️⃣"},{type:"special",value:"light",emoji:"💡",category:"特殊",text:"💡"},{type:"special",value:"music",emoji:"🎵",category:"特殊",text:"🎵"}],y=f([{position:0,finalPosition:0,spinning:!1,symbols:[]},{position:0,finalPosition:0,spinning:!1,symbols:[]},{position:0,finalPosition:0,spinning:!1,symbols:[]}]),I={body:"#ffffff",frame:"#0070ff",reelBackground:"#f5f8ff",reelBorder:"#e6e6eb",reelSeparator:"#e6e6eb",symbolBackground:"#ffffff"},N=f(600),te=f(400),se=()=>{const e=window.innerWidth;e<=600?(N.value=e-32,te.value=N.value*2/3):(N.value=600,te.value=400),je(()=>{C.value&&H()})},H=()=>{if(!C.value){console.error("Canvas元素未找到，將在100ms後重試"),setTimeout(()=>{C.value&&H()},100);return}if(V.value=C.value.getContext("2d"),!V.value){console.error("無法獲取Canvas context");return}console.log("Canvas context 建立成功");for(let e=0;e<y.value.length;e++){const t=y.value[e];if(t){const s=T.filter(d=>d.type==="verb"),a=T.filter(d=>d.type==="noun"),o=T.filter(d=>d.type==="adjective"),r=T.filter(d=>d.type==="special"),c=[...s,...a,...o,...r];t.symbols=c.sort(()=>Math.random()-.5),t.position=Math.floor(Math.random()*t.symbols.length),console.log(`輪盤 ${e} 初始化了 ${t.symbols.length} 個符號`)}}le()},le=()=>{if(!V.value||!C.value){console.error("無法繪製拉霸機：Canvas或Context不存在");return}console.log("開始繪製拉霸機");const e=C.value,t=V.value,s=window.innerWidth<=600;t.clearRect(0,0,e.width,e.height),s||(M(t,50,50,500,300,12,I.body,!1),t.strokeStyle=I.frame,t.lineWidth=3,M(t,50,50,500,300,12,null,!0),t.fillStyle="#1a1a1a",t.font="bold 24px Arial",t.textAlign="center",t.fillText("Lucky English Slot",e.width/2,35));const a=s?e.width/3.5:120,o=s?e.height*.8:200,r=s?(e.width-(a*3+40))/2:e.width/2-a*1.5-20,c=s?e.height*.1:100;for(let d=0;d<y.value.length;d++){const n=r+d*(a+(s?10:20));s||(M(t,n,c,a,o,8,I.reelBackground,!1),t.strokeStyle=I.reelBorder,t.lineWidth=2,M(t,n,c,a,o,8,null,!0));const b=y.value[d];if(b&&b.symbols.length>0){const h=o/3;for(let j=-1;j<=1;j++){const he=(b.position+j+b.symbols.length)%b.symbols.length,E=b.symbols[he],ue=c+(j+1)*h;t.fillStyle=I.symbolBackground,t.beginPath(),t.arc(n+a/2,ue+h/2,h/2-(s?2:5),0,Math.PI*2),t.fill(),t.strokeStyle="#0070ff",t.lineWidth=s?.5:1,t.stroke(),t.fillStyle=j===0?"#0070ff":"#666666",t.font=j===0?s?"bold 16px Arial":"bold 24px Arial":s?"14px Arial":"20px Arial",t.textAlign="center",t.textBaseline="middle",E&&j===0&&(E.type==="verb"?t.fillStyle="#0070ff":E.type==="noun"?t.fillStyle="#FF9500":E.type==="adjective"?t.fillStyle="#34C759":E.type==="special"&&(t.fillStyle="#AF52DE")),E&&E.text?t.fillText(E.text,n+a/2,ue+h/2):E&&t.fillText(E.value,n+a/2,ue+h/2)}}}s||(t.fillStyle="#f5f8ff",M(t,100,c+o+20,400,50,8,"#f5f8ff",!1),t.fillStyle="#1a1a1a",t.font="16px Arial",t.textAlign="center",t.textBaseline="middle",t.fillText(w.value?"旋轉中...":P.value?"拉下右側手柄開始":"今日已玩過",e.width/2,c+o+45))},M=(e,t,s,a,o,r,c,d)=>{typeof r>"u"&&(r=5),e.beginPath(),e.moveTo(t+r,s),e.lineTo(t+a-r,s),e.quadraticCurveTo(t+a,s,t+a,s+r),e.lineTo(t+a,s+o-r),e.quadraticCurveTo(t+a,s+o,t+a-r,s+o),e.lineTo(t+r,s+o),e.quadraticCurveTo(t,s+o,t,s+o-r),e.lineTo(t,s+r),e.quadraticCurveTo(t,s,t+r,s),e.closePath(),c&&(e.fillStyle=c,e.fill()),d&&e.stroke()},de=()=>{w.value||!P.value||l.uid===""||(m.value=!0,w.value=!0,v.value=null,ve().then(e=>{if(!e){w.value=!1,m.value=!1;return}me(),setTimeout(()=>{m.value=!1},1e3)}))},ve=async()=>{if(l.uid==="")return!1;const e=Q(),t=k(e,`users/${l.uid}`),s=await O(t),a=new Date().toDateString();let o=0,r="";if(s.exists()){const c=s.val();o=c.playCount||0,r=c.lastPlayDate||""}if(r===a){if(o>=100)return P.value=!1,alert("今天已經玩滿100次了，明天再來吧！"),!1;o+=1}else o=1,r=a;return await S(k(e,`users/${l.uid}/playCount`),o),await S(k(e,`users/${l.uid}/lastPlayDate`),r),await S(k(e,`users/${l.uid}/lastPlay`),oe()),!0},me=()=>{const e=fe();for(let d=0;d<y.value.length;d++){const n=y.value[d];n&&d<e.length&&e[d]!==void 0&&(n.finalPosition=e[d],n.spinning=!0)}let t=0;const s=60,o=3e3/s,r=[Math.floor(s*.6),Math.floor(s*.8),s],c=()=>{t++;for(let d=0;d<y.value.length;d++){const n=y.value[d];if(!n)continue;const b=r[d];b!==void 0&&t<b?n.position=(n.position+1)%n.symbols.length:b!==void 0&&t===b&&(n.position=n.finalPosition,n.spinning=!1)}le(),t<s?setTimeout(()=>{requestAnimationFrame(c)},o):(w.value=!1,pe())};c()},fe=()=>{const e=y.value.map(s=>s?Math.floor(Math.random()*s.symbols.length):0),t=Math.random();if(t<.1){const s=[];for(let a=0;a<y.value.length;a++){const o=y.value[a];if(o){const r=o.symbols.findIndex(c=>c.type==="verb");s.push(r>=0?r:e[a]||0)}else s.push(0)}return s}else if(t<.2){const s=y.value[0],a=y.value[1],o=y.value[2];return[s&&s.symbols?s.symbols.findIndex(c=>c.type==="verb"):-1,a&&a.symbols?a.symbols.findIndex(c=>c.type==="noun"):-1,o&&o.symbols?o.symbols.findIndex(c=>c.type==="special"):-1].map(c=>c>=0?c:Math.floor(Math.random()*T.length))}else if(t<.25){const s=T.findIndex(a=>a.emoji==="7️⃣");s>=0&&(e[0]=s,e[1]=s)}return e},pe=async()=>{if(l.uid==="")return;const e=y.value.map(n=>n?n.symbols[n.position]:void 0);if(!e.every(n=>n!==void 0)){console.error("Invalid symbols found in result");return}let s="再接再厲！",a="下次再來試試看吧！",o,r=0;e.every(n=>n?.type==="verb")?(s="動詞組合！",a=`你抽到了：${e.map(n=>n?.value).join(", ")}`,o="請用其中一個動詞造句",r=3):e.every(n=>n?.type==="noun")?(s="名詞組合！",a=`你抽到了：${e.map(n=>n?.value).join(", ")}`,o="請描述其中一個物品的功能",r=3):e.every(n=>n?.type==="adjective")?(s="形容詞組合！",a=`你抽到了：${e.map(n=>n?.value).join(", ")}`,o="請用其中一個形容詞描述你的心情",r=3):e.some(n=>n?.type==="verb")&&e.some(n=>n?.type==="noun")&&e.some(n=>n?.type==="special")?(s="特殊組合！",a=`你抽到了：${e.map(n=>n?.value).join(", ")}`,o="請翻譯這組搭配的句子",r=2):e.filter(n=>n?.emoji==="7️⃣").length>=2?(s="雙七組合！",a="恭喜獲得 Bonus 問答題！",o="開始問答",r=5):e.every(n=>n?.emoji==="💡")&&(s="幸運組合！",a="你獲得了知識小卡片！",o="查看小知識",r=1);const d={title:s,description:a,points:r};o&&(d.task=o),v.value=d,U.value="",R.value="",W.value=!1,z.value=!1,D.value="",o&&ye(e.filter(n=>n!==void 0)),await Be(e.filter(n=>n!==void 0),r)},ye=e=>{if(!(!v.value||!v.value.title))if(v.value.title.includes("特殊")){const t=e.find(o=>o.type==="verb")?.value||"",s=e.find(o=>o.type==="noun")?.value||"",a=e.find(o=>o.type==="special")?.emoji||"";ne.value=`I ${t} the ${s} when I see ${a}.`}else v.value.title.includes("雙七")?be():v.value.title.includes("幸運")&&ge()},be=async()=>{try{const e=Q(),t=k(e,"bonusQuestions"),s=await O(t);if(s.exists()){const a=s.val(),o=Object.keys(a);if(o.length>0){const r=o[Math.floor(Math.random()*o.length)],c=a[r];J.value=c.question,_.value=c.options,q.value=c.answer}else K()}else K()}catch(e){console.error("獲取問答題失敗:",e),K()}},K=()=>{J.value="Which of these is NOT a part of speech in English?",_.value={A:"Noun",B:"Adjective",C:"Transitive",D:"Adverb"},q.value="C"},ge=async()=>{try{const e=Q(),t=k(e,"knowledgeCards"),s=await O(t);if(s.exists()){const a=s.val(),o=Object.keys(a);if(o.length>0){const r=o[Math.floor(Math.random()*o.length)],c=a[r];ee.value=c}else X()}else X()}catch(e){console.error("獲取知識卡片失敗:",e),X()}},X=()=>{ee.value={title:"英文學習小技巧",content:"研究表明，每天學習10-15個新單詞並立即使用它們造句，能夠顯著提高你的詞彙量和記憶效果。",tip:"嘗試在日常生活中尋找機會使用新學的單詞，這樣能夠更好地鞏固記憶。"}},Fe=async()=>{if(!(l.uid===""||!v.value||!ie.value))try{const e=Q();let t=!0,s=0,a="";v.value.title.includes("動詞")||v.value.title.includes("名詞")||v.value.title.includes("形容詞")||v.value.title.includes("特殊")?(a=U.value,s=1,D.value="感謝你完成今天的學習任務！"):v.value.title.includes("雙七")?(a=R.value,t=R.value===q.value,s=t?2:0,D.value=t?"答對了！獲得額外的獎勵點數！":`答錯了！正確答案是 ${q.value}`):v.value.title.includes("幸運")?(a=W.value?"已閱讀":"未閱讀",s=1,D.value="感謝你完成今天的學習任務！"):(s=1,D.value="感謝你完成今天的學習任務！");const o={taskType:ke(),answer:String(a),correct:t,points:v.value.points+s,timestamp:new Date().toISOString()};console.log("任務完成記錄:",o),z.value=!0;try{const r=k(e,`users/${l.uid}`),c=await O(r);if(c.exists()){const b=(c.val().points||0)+(v.value.points+s);await S(k(e,`users/${l.uid}/points`),b)}try{const d=k(e,`userTasks/${l.uid}`);await ae(d,o)}catch(d){console.log("保存任務記錄失敗，但用戶體驗不受影響:",d)}}catch(r){console.log("更新積分失敗，用戶體驗不受影響:",r)}}catch(e){console.error("提交任務失敗:",e),e instanceof Error&&console.log(`提交任務錯誤: ${e.message}。但任務仍標記為完成。`),z.value=!0,D.value="您的答案已記錄！資料同步可能在稍後完成。"}},ke=()=>v.value?v.value.title.includes("動詞")?"verb":v.value.title.includes("名詞")?"noun":v.value.title.includes("形容詞")?"adjective":v.value.title.includes("特殊")?"special":v.value.title.includes("雙七")?"bonus":v.value.title.includes("幸運")?"knowledge":"unknown":"unknown",Be=async(e,t)=>{if(l.uid==="")return;const s=Q();try{const a=k(s,`gameRecords/${l.uid}`),o=ae(a);await S(o,{symbols:e.map(h=>({type:h.type,value:h.value,emoji:h.emoji,category:h.category,text:h.text})),points:t,timestamp:oe()});const r=k(s,`users/${l.uid}`),c=await O(r),d=c.exists()&&c.val().points||0;await S(k(s,`users/${l.uid}/points`),d+t);const n=k(s,`users/${l.uid}/notifications`),b=ae(n);await S(b,{type:"gameResult",message:`拉霸結果：${v.value?.title}，獲得 ${t} 點！`,timestamp:oe(),read:!1})}catch(a){console.error("儲存遊戲記錄失敗:",a)}},re=()=>{if(console.log("手動觸發重繪"),C.value){V.value=C.value.getContext("2d");for(let e=0;e<y.value.length;e++){const t=y.value[e];t&&t.symbols.length===0&&(t.symbols=[...T].sort(()=>Math.random()-.5),t.position=Math.floor(Math.random()*t.symbols.length),console.log(`重新初始化轉輪 ${e} 的符號`))}le()}else console.error("Canvas元素不存在，無法重繪")},Ce=()=>{i("toggleLogin")};return we(()=>{console.log("開始初始化頁面");let e=0;const t=5,s=()=>{C.value?(console.log("找到Canvas元素，開始初始化"),H()):e<t?(e++,console.log(`Canvas元素未找到，第 ${e} 次重試`),setTimeout(s,200)):console.error("Canvas元素初始化失敗，已達最大重試次數")};s(),se(),window.addEventListener("resize",se)}),De(()=>{window.removeEventListener("resize",se)}),Te(()=>l.uid,e=>{console.log("uid changed:",e),e!==""&&(H(),re())}),{slotCanvas:C,canPlay:P,spinning:w,leverPulled:m,result:v,pullLever:de,forceRedraw:re,textTaskAnswer:U,radioTaskAnswer:R,checkboxTaskAnswer:W,taskCompleted:z,taskFeedback:D,specialCombinationSentence:ne,bonusQuestion:J,bonusOptions:_,bonusCorrectAnswer:q,knowledgeCard:ee,isTaskAnswerValid:ie,submitTask:Fe,useDefaultBonusQuestion:K,useDefaultKnowledgeCard:X,showRules:ce,canvasWidth:N,canvasHeight:te,toggleLogin:Ce}}}),Qe={key:0,class:"text-center q-pa-lg login-container"},Oe={class:"rules-container q-mb-lg"},Ue={class:"slot-machine-container"},We=["width","height"],ze={key:0,class:"result-container q-mt-lg"},Ne={class:"result-title"},He={class:"result-description"},Ke={key:0,class:"task-container"},Xe={key:0,class:"task-input-container q-mt-md"},Ye={key:0},Ge={key:1},Ze={key:2},Je={key:3},_e={class:"translation-text q-mb-md"},et={key:4},tt={class:"task-instruction"},st={class:"bonus-options"},lt={key:5},ut={class:"knowledge-card"},ot={class:"knowledge-title"},at={class:"knowledge-content"},nt={class:"knowledge-tip"},it={class:"task-actions q-mt-md"},rt={key:1,class:"task-completed-container q-mt-md"},ct={class:"task-completed-message"},dt={key:0,class:"task-feedback q-mt-sm"},vt={class:"points-container"},mt={class:"q-mt-lg action-buttons"};function ft(l,i,C,V,P,w){return g(),Ve(xe,{class:"flex flex-center column",style:{"background-color":"#f5f5f7","min-height":"100vh",padding:"16px"}},{default:$(()=>[l.uid===""?(g(),F("div",Qe,[p(Y,{name:"lock",size:"50px",color:"grey-5"}),i[11]||(i[11]=u("p",{class:"text-h6 q-mt-md",style:{color:"#1a1a1a"}},"請先登入以使用拉霸機",-1)),p(x,{color:"primary",label:"登入",onClick:l.toggleLogin,style:{"margin-top":"16px"}},null,8,["onClick"])])):(g(),F(Ie,{key:1},[i[22]||(i[22]=u("div",{class:"text-h4 q-mb-md page-title"},"🎉 每天拉一次，強化英文力！",-1)),p(x,{color:"secondary",flat:"",class:"q-mb-md",onClick:i[0]||(i[0]=m=>l.showRules=!l.showRules),style:{"border-radius":"8px"}},{default:$(()=>[p(Y,{name:"info",class:"q-mr-xs"}),A(" "+B(l.showRules?"隱藏遊戲規則":"查看遊戲規則"),1)]),_:1}),p(Me,null,{default:$(()=>[$e(u("div",Oe,i[12]||(i[12]=[u("div",{class:"text-h6 rules-title"},"🎮 Lucky Slot 英文拉霸機 - 遊戲規則",-1),u("div",{class:"rules-content"},[u("p",null,[A("每天可玩 "),u("b",null,"100"),A(" 次，拉下右側手柄或點擊「拉霸開始」按鈕開始遊戲！")]),u("div",{class:"rules-section"},[u("div",{class:"rules-subtitle"},"📊 組合獎勵"),u("div",{class:"combinations-grid"},[u("div",{class:"combination-card"},[u("div",{class:"combination-title"},"3個動詞"),u("div",{class:"combination-example"},"run, eat, jump"),u("div",{class:"combination-task"},"用其中一個動詞造句"),u("div",{class:"combination-points"},"+3點")]),u("div",{class:"combination-card"},[u("div",{class:"combination-title"},"3個名詞"),u("div",{class:"combination-example"},"guitar, book, computer"),u("div",{class:"combination-task"},"描述其中一個物品的功能"),u("div",{class:"combination-points"},"+3點")]),u("div",{class:"combination-card"},[u("div",{class:"combination-title"},"3個形容詞"),u("div",{class:"combination-example"},"happy, smart, fast"),u("div",{class:"combination-task"},"用其中一個描述心情"),u("div",{class:"combination-points"},"+3點")]),u("div",{class:"combination-card"},[u("div",{class:"combination-title"},"特殊組合"),u("div",{class:"combination-example"},"動詞 + 名詞 + 特殊符號"),u("div",{class:"combination-task"},"翻譯指定句子"),u("div",{class:"combination-points"},"+2點")]),u("div",{class:"combination-card"},[u("div",{class:"combination-title"},"雙七組合"),u("div",{class:"combination-example"},"兩個七符號 (7️⃣7️⃣)"),u("div",{class:"combination-task"},"回答英文問答題"),u("div",{class:"combination-points"},"+5點")]),u("div",{class:"combination-card"},[u("div",{class:"combination-title"},"幸運組合"),u("div",{class:"combination-example"},"三個燈泡 (💡💡💡)"),u("div",{class:"combination-task"},"獲得英文小知識"),u("div",{class:"combination-points"},"+1點")])])]),u("div",{class:"rules-section"},[u("div",{class:"rules-subtitle"},"🏆 任務與獎勵"),u("ul",null,[u("li",null,"完成任務後可獲得額外點數"),u("li",null,"累積點數可用於解鎖更多學習內容和功能"),u("li",null,"提交答案時系統會自動儲存您的學習紀錄")])]),u("p",{class:"rules-tip"}," 💡 小提示：每天堅持玩拉霸機能有效增強您的英文單字記憶力與運用能力！ ")],-1)]),512),[[Pe,l.showRules]])]),_:1}),u("div",Ue,[u("canvas",{ref:"slotCanvas",class:"slot-canvas",width:l.canvasWidth,height:l.canvasHeight},null,8,We),!l.spinning&&l.canPlay?(g(),F("div",{key:0,class:Re(["slot-lever",{"lever-pulled":l.leverPulled}]),onClick:i[1]||(i[1]=(...m)=>l.pullLever&&l.pullLever(...m))},i[13]||(i[13]=[u("div",{class:"lever-grip"},null,-1),u("div",{class:"lever-stick"},null,-1),u("div",{class:"lever-base"},null,-1)]),2)):L("",!0)]),l.result?(g(),F("div",ze,[u("div",Ne,B(l.result.title),1),u("div",He,B(l.result.description),1),l.result.task?(g(),F("div",Ke,[i[20]||(i[20]=u("div",{style:{"font-weight":"600","margin-bottom":"8px",color:"#1a1a1a"}},"今日任務：",-1)),u("div",null,B(l.result.task),1),l.taskCompleted?(g(),F("div",rt,[u("div",ct,[p(Y,{name:"check_circle",color:"positive",size:"24px",class:"q-mr-sm"}),i[19]||(i[19]=A(" 任務已完成！ "))]),l.taskFeedback?(g(),F("div",dt,B(l.taskFeedback),1)):L("",!0)])):(g(),F("div",Xe,[l.result.title.includes("動詞")?(g(),F("div",Ye,[i[14]||(i[14]=u("p",{class:"task-instruction"},"請使用上方動詞造一個完整的英文句子：",-1)),p(G,{modelValue:l.textTaskAnswer,"onUpdate:modelValue":i[2]||(i[2]=m=>l.textTaskAnswer=m),outlined:"",type:"textarea",placeholder:"例如：I run every morning to stay healthy.",class:"task-input"},null,8,["modelValue"])])):l.result.title.includes("名詞")?(g(),F("div",Ge,[i[15]||(i[15]=u("p",{class:"task-instruction"},"請用英文描述其中一個物品的功能或特點：",-1)),p(G,{modelValue:l.textTaskAnswer,"onUpdate:modelValue":i[3]||(i[3]=m=>l.textTaskAnswer=m),outlined:"",type:"textarea",placeholder:"例如：A guitar is a musical instrument that produces sound when you pluck its strings.",class:"task-input"},null,8,["modelValue"])])):l.result.title.includes("形容詞")?(g(),F("div",Ze,[i[16]||(i[16]=u("p",{class:"task-instruction"},"請用英文形容你現在的心情或一件事物：",-1)),p(G,{modelValue:l.textTaskAnswer,"onUpdate:modelValue":i[4]||(i[4]=m=>l.textTaskAnswer=m),outlined:"",type:"textarea",placeholder:"例如：I feel happy when I listen to my favorite music.",class:"task-input"},null,8,["modelValue"])])):l.result.title.includes("特殊")?(g(),F("div",Je,[i[17]||(i[17]=u("p",{class:"task-instruction"},"請翻譯以下句子：",-1)),u("div",_e,B(l.specialCombinationSentence),1),p(G,{modelValue:l.textTaskAnswer,"onUpdate:modelValue":i[5]||(i[5]=m=>l.textTaskAnswer=m),outlined:"",type:"textarea",placeholder:"請輸入中文翻譯...",class:"task-input"},null,8,["modelValue"])])):l.result.title.includes("雙七")?(g(),F("div",et,[u("p",tt,B(l.bonusQuestion),1),u("div",st,[p(Z,{modelValue:l.radioTaskAnswer,"onUpdate:modelValue":i[6]||(i[6]=m=>l.radioTaskAnswer=m),val:"A",label:l.bonusOptions.A,class:"q-mb-sm"},null,8,["modelValue","label"]),p(Z,{modelValue:l.radioTaskAnswer,"onUpdate:modelValue":i[7]||(i[7]=m=>l.radioTaskAnswer=m),val:"B",label:l.bonusOptions.B,class:"q-mb-sm"},null,8,["modelValue","label"]),p(Z,{modelValue:l.radioTaskAnswer,"onUpdate:modelValue":i[8]||(i[8]=m=>l.radioTaskAnswer=m),val:"C",label:l.bonusOptions.C,class:"q-mb-sm"},null,8,["modelValue","label"]),p(Z,{modelValue:l.radioTaskAnswer,"onUpdate:modelValue":i[9]||(i[9]=m=>l.radioTaskAnswer=m),val:"D",label:l.bonusOptions.D},null,8,["modelValue","label"])])])):l.result.title.includes("幸運")?(g(),F("div",lt,[u("div",ut,[u("p",ot,B(l.knowledgeCard.title),1),u("p",at,B(l.knowledgeCard.content),1),u("p",nt,B(l.knowledgeCard.tip),1)]),p(qe,{modelValue:l.checkboxTaskAnswer,"onUpdate:modelValue":i[10]||(i[10]=m=>l.checkboxTaskAnswer=m),"true-value":"true",label:"我已閱讀並理解這個小知識"},null,8,["modelValue"])])):L("",!0),u("div",it,[p(x,{color:"primary",disable:!l.isTaskAnswerValid,onClick:l.submitTask,style:{"border-radius":"8px"}},{default:$(()=>i[18]||(i[18]=[A(" 提交答案 ")])),_:1},8,["disable","onClick"])])]))])):L("",!0),u("div",vt,[p(Y,{name:"stars",color:"primary",size:"24px",class:"q-mr-sm"}),A(" 獲得 "+B(l.result.points)+" 點 ",1)])])):L("",!0),u("div",mt,[p(x,{color:"primary",disable:!l.canPlay||l.spinning,onClick:l.pullLever,class:"action-button"},{default:$(()=>[A(B(l.spinning?"旋轉中...":l.canPlay?"拉霸開始！":"今日已玩過"),1)]),_:1},8,["disable","onClick"]),p(x,{color:"secondary",onClick:l.forceRedraw,class:"action-button"},{default:$(()=>i[21]||(i[21]=[A(" 重繪畫面 ")])),_:1},8,["onClick"])])],64))]),_:1})}const kt=Se(Le,[["render",ft],["__scopeId","data-v-9d63205f"],["__file","LuckySlotPage.vue"]]);export{kt as default};
