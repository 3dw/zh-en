import{L as W,r,a as L,_ as R,N as m,O as k,P as o,U as n,R as l,Q as U,V as d,W as y,a3 as g,X as a,Y as C,Z as z,a4 as A,$ as K,S as _,a2 as O,p as T}from"./index-D7DZ91lx.js";import{Q as X}from"./QInput-DQ4z_yHf.js";import{Q as G,a as B}from"./QCard-CCl8Q9LH.js";import{Q,C as Y}from"./ClosePopup-xHk5SJ03.js";import{Q as V}from"./QDialog-o3SGGg9W.js";import{Q as Z}from"./QPage-HD9iDhIy.js";import"./use-id-DuKf0T9h.js";import"./use-dark-Pw4nn_0T.js";import"./focus-manager-zjdVGI5d.js";import"./use-timeout-C8y0GEW7.js";const H=W({name:"NineGridGame",setup(){const e=r([{chinese:"愛",english:["love","affection"],points:5,flipped:!1,owner:null},{chinese:"和平",english:["peace"],points:3,flipped:!1,owner:null},{chinese:"智慧",english:["wisdom"],points:4,flipped:!1,owner:null},{chinese:"慈悲",english:["mercy","compassion"],points:5,flipped:!1,owner:null},{chinese:"寧靜",english:["serenity","tranquility"],points:4,flipped:!1,owner:null},{chinese:"善良",english:["kindness"],points:3,flipped:!1,owner:null},{chinese:"信念",english:["faith","belief"],points:4,flipped:!1,owner:null},{chinese:"勇氣",english:["courage","bravery"],points:3,flipped:!1,owner:null},{chinese:"希望",english:["hope"],points:5,flipped:!1,owner:null}]),s=r("Buddha"),p=r(0),c=r(0),v=r(""),f=r(!1),u=r(!1),w=r(null),D=L(()=>f.value?p.value>c.value?"Buddha":c.value>p.value?"Guanyin":null:null);function q(){const i=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let h=0;h<i.length;h++){const t=i[h],$=t[0],P=t[1],j=t[2],b=e.value[$],F=e.value[P],E=e.value[j];if(b.flipped&&F.flipped&&E.flipped&&b.owner===F.owner&&F.owner===E.owner)return!0}return!1}function S(){const i=v.value.toLowerCase().trim();let h=!1;if(e.value.forEach(t=>{!t.flipped&&t.english.includes(i)&&(t.flipped=!0,t.owner=s.value,s.value==="Buddha"?p.value+=t.points:c.value+=t.points,h=!0)}),h){if(q()){f.value=!0;return}if(e.value.every(t=>t.flipped)){f.value=!0;return}}s.value=s.value==="Buddha"?"Guanyin":"Buddha",v.value=""}function I(i){w.value=i,u.value=!0}function N(){e.value.forEach(i=>{i.flipped=!1,i.owner=null}),p.value=0,c.value=0,s.value="Buddha",f.value=!1}return{grid:e,currentPlayer:s,buddhaScore:p,guanyinScore:c,answer:v,showResult:f,showWordInfo:u,selectedCell:w,winner:D,checkAnswer:S,showCellInfo:I,resetGame:N}}}),J={class:"row items-center q-mb-md"},M={class:"col"},x={class:"row q-mb-md justify-around"},ee={class:"text-h6 q-ml-sm"},se={class:"text-h6 q-ml-sm"},ne={class:"grid-container q-mb-lg"},ue=["onClick"],le={class:"cell-content"},oe={class:"chinese"},te={key:0,class:"points"},ae={key:1,class:"owner"},ie={class:"row q-gutter-md justify-center"},re={class:"text-h6"},de={class:"text-h6"},pe={class:"text-h5 q-mt-md"},ce={class:"text-h6"},fe={class:"text-subtitle2"},he={class:"text-body1"};function me(e,s,p,c,v,f){return m(),k(Z,{class:"q-pa-md"},{default:o(()=>[n("div",J,[n("h1",M,[l(U,{name:"grid_view",size:"md",color:"primary",class:"q-mr-sm"}),s[3]||(s[3]=d(" 雙人中英文九宮格連連看： "))])]),s[8]||(s[8]=n("div",{class:"row q-mb-md justify-around"},[n("p",{class:"col"},[d(" 說明：佛陀(Buddha)和觀音(Guanyin)，"),n("br"),d(" 輪流翻開九宮格，"),n("br"),d(" 如果翻開的九宮格中有三個連成一線，遊戲結束，並顯示勝利者。"),n("br")])],-1)),n("div",x,[n("div",{class:y(["score-card",{"current-player":e.currentPlayer==="Buddha"}])},[l(g,{color:"deep-purple","text-color":"white"},{default:o(()=>s[4]||(s[4]=[d("B")])),_:1}),n("div",ee,"佛陀(Buddha): "+a(e.buddhaScore),1)],2),n("div",{class:y(["score-card",{"current-player":e.currentPlayer==="Guanyin"}])},[l(g,{color:"teal","text-color":"white"},{default:o(()=>s[5]||(s[5]=[d("G")])),_:1}),n("div",se,"觀音(Guanyin): "+a(e.guanyinScore),1)],2)]),n("div",ne,[(m(!0),C(K,null,z(e.grid,(u,w)=>(m(),C("div",{key:w,class:y(["grid-cell",{flipped:u.flipped}]),onClick:D=>e.showCellInfo(u)},[n("div",le,[n("div",oe,a(u.chinese),1),u.flipped?A("",!0):(m(),C("div",te,a(u.points)+"分",1)),u.flipped?(m(),C("div",ae,[l(g,{color:u.owner==="Buddha"?"deep-purple":"teal",size:"sm"},{default:o(()=>[d(a(u.owner==="Buddha"?"B":"G"),1)]),_:2},1032,["color"])])):A("",!0)])],10,ue))),128))]),n("div",ie,[l(X,{modelValue:e.answer,"onUpdate:modelValue":s[0]||(s[0]=u=>e.answer=u),outlined:"",label:`${e.currentPlayer}的回答`,onKeyup:O(e.checkAnswer,["enter"])},{append:o(()=>[l(_,{round:"",dense:"",flat:"",icon:"send",onClick:e.checkAnswer},null,8,["onClick"])]),_:1},8,["modelValue","label","onKeyup"])]),l(V,{modelValue:e.showResult,"onUpdate:modelValue":s[1]||(s[1]=u=>e.showResult=u)},{default:o(()=>[l(G,null,{default:o(()=>[l(B,{class:"row items-center"},{default:o(()=>s[6]||(s[6]=[n("div",{class:"text-h6"},"遊戲結束！",-1)])),_:1}),l(B,null,{default:o(()=>[n("div",re,"Buddha: "+a(e.buddhaScore)+"分",1),n("div",de,"Guanyin: "+a(e.guanyinScore)+"分",1),n("div",pe,a(e.winner?`${e.winner} 獲勝！`:"平手！"),1)]),_:1}),l(Q,{align:"right"},{default:o(()=>[l(_,{flat:"",label:"重新開始",color:"primary",onClick:e.resetGame},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(V,{modelValue:e.showWordInfo,"onUpdate:modelValue":s[2]||(s[2]=u=>e.showWordInfo=u)},{default:o(()=>[e.selectedCell?(m(),k(G,{key:0},{default:o(()=>[l(B,null,{default:o(()=>[n("div",ce,a(e.selectedCell.chinese),1),n("div",fe,a(e.selectedCell.points)+"分",1)]),_:1}),l(B,null,{default:o(()=>[s[7]||(s[7]=n("div",null,"可接受的英文答案：",-1)),n("div",he,a(e.selectedCell.english.join(", ")),1)]),_:1}),l(Q,{align:"right"},{default:o(()=>[T(l(_,{flat:"",label:"關閉",color:"primary"},null,512),[[Y]])]),_:1})]),_:1})):A("",!0)]),_:1},8,["modelValue"])]),_:1})}const be=R(H,[["render",me],["__scopeId","data-v-779160f3"],["__file","NineGridGame.vue"]]);export{be as default};
