import{c as me,A as ke,al as _,N as we,C as he,r as I,b as C,am as Be,E as Ie,an as ve,F as xe,ao as ge,w as L,o as R,y as M,s as W,O as Ae,h as N,ap as ye,j as be,d as Ce,z as Te,X as Se,H as Pe,_ as qe,Z as B,$ as F,a0 as p,a4 as s,a1 as o,aa as Ee,a8 as O,ad as T,a5 as A,ab as y,ac as U,ae as z,ag as _e,ak as Oe,a2 as ze,a3 as K,aq as De,I as Qe,a7 as Ve}from"./index-CRVyQ5Pk.js";import{u as $e,v as X,a as je,p as Y,b as He,c as Le,r as Z,s as Re,d as Me}from"./position-engine-CGjOXl42.js";import{c as G}from"./selection-CZ2tJCgT.js";import{Q as We}from"./QPage-jDM6-lCZ.js";import{C as Ne}from"./ClosePopup-C5dzjf-q.js";const J=me({name:"QTooltip",inheritAttrs:!1,props:{...$e,...ke,..._,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{..._.transitionShow,default:"jump-down"},transitionHide:{..._.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:X},self:{type:String,default:"top middle",validator:X},offset:{type:Array,default:()=>[14,14],validator:je},scrollTarget:we,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...he],setup(e,{slots:t,emit:k,attrs:f}){let i,d;const c=be(),{proxy:{$q:r}}=c,l=I(null),n=I(!1),a=C(()=>Y(e.anchor,r.lang.rtl)),v=C(()=>Y(e.self,r.lang.rtl)),w=C(()=>e.persistent!==!0),{registerTick:S,removeTick:P}=Be(),{registerTimeout:b}=Ie(),{transitionProps:ee,transitionStyle:te}=ve(e),{localScrollTarget:D,changeScrollEvent:se,unconfigureScrollTarget:re}=He(e,j),{anchorEl:m,canShow:ne,anchorEvents:x}=Le({showing:n,configureAnchorEl:de}),{show:ue,hide:q}=xe({showing:n,canShow:ne,handleShow:oe,handleHide:le,hideOnRouteChange:w,processOnMount:!0});Object.assign(x,{delayShow:ie,delayHide:ce});const{showPortal:Q,hidePortal:V,renderPortal:ae}=ge(c,l,fe,"tooltip");if(r.platform.is.mobile===!0){const u={anchorEl:m,innerRef:l,onClickOutside(h){return q(h),h.target.classList.contains("q-dialog__backdrop")&&Te(h),!0}},E=C(()=>e.modelValue===null&&e.persistent!==!0&&n.value===!0);L(E,h=>{(h===!0?Me:Z)(u)}),R(()=>{Z(u)})}function oe(u){Q(),S(()=>{d=new MutationObserver(()=>g()),d.observe(l.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),g(),j()}),i===void 0&&(i=L(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,g)),b(()=>{Q(!0),k("show",u)},e.transitionDuration)}function le(u){P(),V(),$(),b(()=>{V(!0),k("hide",u)},e.transitionDuration)}function $(){d!==void 0&&(d.disconnect(),d=void 0),i!==void 0&&(i(),i=void 0),re(),M(x,"tooltipTemp")}function g(){Re({targetEl:l.value,offset:e.offset,anchorEl:m.value,anchorOrigin:a.value,selfOrigin:v.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ie(u){if(r.platform.is.mobile===!0){G(),document.body.classList.add("non-selectable");const E=m.value,h=["touchmove","touchcancel","touchend","click"].map(H=>[E,H,"delayHide","passiveCapture"]);W(x,"tooltipTemp",h)}b(()=>{ue(u)},e.delay)}function ce(u){r.platform.is.mobile===!0&&(M(x,"tooltipTemp"),G(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),b(()=>{q(u)},e.hideDelay)}function de(){if(e.noParentEvent===!0||m.value===null)return;const u=r.platform.is.mobile===!0?[[m.value,"touchstart","delayShow","passive"]]:[[m.value,"mouseenter","delayShow","passive"],[m.value,"mouseleave","delayHide","passive"]];W(x,"anchor",u)}function j(){if(m.value!==null||e.scrollTarget!==void 0){D.value=Ae(m.value,e.scrollTarget);const u=e.noParentEvent===!0?g:q;se(D.value,u)}}function pe(){return n.value===!0?N("div",{...f,ref:l,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",f.class],style:[f.style,te.value],role:"tooltip"},Ce(t.default)):null}function fe(){return N(ye,ee.value,pe)}return R($),Object.assign(c.proxy,{updatePosition:g}),ae}}),Fe=Se({name:"Song4WordPage",setup(){const e=I({zh:"請看影片，聽歌曲，填入正確的單字",en:"Watch the video, listen to the song, and fill in the correct words"}),t=I(!1),k=I(""),f=I(!1),i=I([]),d=n=>{const a=new SpeechSynthesisUtterance(n==="zh"?e.value.zh:e.value.en);a.lang=n==="zh"?"zh-TW":"en-US",a.rate=.9,speechSynthesis.speak(a)};function c(){i.value=[[{text:"",isBlank:!0,userInput:"",correctAnswer:"A"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"apple"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"B"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"banana"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"C"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"cake"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"D"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"duck"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"E"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"elephant"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"F"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"fish"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"G"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"guitar"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"H"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"hat"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"I"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"igloo"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"J"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"juice"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"K"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"kitten"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"L"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"lemon"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"M"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"mittens"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"N"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"nest"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"O"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"orange"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"P"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"pig"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Q"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"queen"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"R"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"ring"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"S"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"socks"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"T"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"teddybear"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"U"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"umbrella"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"V"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"vegetables"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"W"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"wolf"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"X"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"xylophone"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Y"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"yoyo"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Z"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"zipper"}]]}const r=()=>{f.value=!0;let n=!0;const a=[];i.value.forEach(v=>{v.forEach(w=>{if(w.isBlank){const S=w.userInput.toLowerCase().trim(),P=w.correctAnswer?.toLowerCase()||"";S!==P&&(n=!1,a.push({userInput:w.userInput||"(空白)",correctAnswer:w.correctAnswer||""}))}})}),n?k.value=`太棒了！
你已經學會這些字母和單字了！`:k.value=`再試一次：
`+a.map(v=>`你的答案：${v.userInput}
正確答案：${v.correctAnswer}`).join(`

`),t.value=!0,setTimeout(()=>{t.value=!1,f.value=!1},3e3)},l=()=>{i.value.forEach(n=>{n.forEach(a=>{a.isBlank&&(a.userInput="")})}),t.value=!1,f.value=!1};return Pe(()=>{c(),setTimeout(()=>{d("zh"),setTimeout(()=>{d("en")},3e3)},500)}),{gameInstruction:e,lyricsLines:i,showResult:t,resultMessage:k,showingResult:f,speakInstruction:d,checkAnswer:r,resetAnswers:l}}}),Ue={class:"row items-center q-mb-md"},Ke={class:"col"},Xe={class:"text-h6 q-mb-md text-center"},Ye={class:"row justify-center items-center q-gutter-md"},Ze={class:"text-subtitle1"},Ge={class:"row q-gutter-sm"},Je={class:"row justify-center q-mt-lg"},et={class:"col-12 col-sm-10 col-md-8"},tt={class:"row items-center q-gutter-sm"},st={key:1,class:"text-h6"},rt={class:"row justify-center q-mt-lg"},nt={class:"text-body1",style:{"white-space":"pre-line"}};function ut(e,t,k,f,i,d){return B(),F(We,{class:"q-pa-md"},{default:p(()=>[s("div",Ue,[s("h1",Ke,[o(Ee,{name:"music_note",size:"md",color:"primary",class:"q-mr-sm"}),t[3]||(t[3]=O(" 英文兒歌克漏字學習 "))])]),s("div",Xe,[s("div",Ye,[s("div",null,[s("div",null,T(e.gameInstruction.zh),1),s("div",Ze,T(e.gameInstruction.en),1)]),s("div",Ge,[o(A,{icon:"volume_up",color:"primary",round:"",size:"md",onClick:t[0]||(t[0]=c=>e.speakInstruction("zh")),class:"q-mr-sm"},{default:p(()=>[o(J,null,{default:p(()=>t[4]||(t[4]=[O("中文說明")])),_:1})]),_:1}),o(A,{icon:"volume_up",color:"secondary",round:"",size:"md",onClick:t[1]||(t[1]=c=>e.speakInstruction("en"))},{default:p(()=>[o(J,null,{default:p(()=>t[5]||(t[5]=[O("English Instruction")])),_:1})]),_:1})])])]),t[7]||(t[7]=s("div",{class:"row justify-center q-mb-lg"},[s("div",{class:"col-12 col-sm-10 col-md-8"},[s("div",{class:"video-container"},[s("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/ChqnN3cKzXQ",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})])])],-1)),s("div",Je,[s("div",et,[(B(!0),y(z,null,U(e.lyricsLines,(c,r)=>(B(),y("div",{key:r,class:"q-mb-md"},[s("div",tt,[(B(!0),y(z,null,U(c,(l,n)=>(B(),y(z,{key:`${r}-${n}`},[l.isBlank?(B(),F(_e,{key:0,modelValue:l.userInput,"onUpdate:modelValue":a=>l.userInput=a,outlined:"",dense:"",class:"blank-input",disable:e.showingResult,onKeyup:Oe(e.checkAnswer,["enter"])},null,8,["modelValue","onUpdate:modelValue","disable","onKeyup"])):(B(),y("span",st,T(l.text),1))],64))),128))])]))),128)),s("div",rt,[o(A,{label:"檢查答案",color:"primary",onClick:e.checkAnswer,disable:e.showingResult,class:"q-mx-sm"},null,8,["onClick","disable"]),o(A,{label:"重新開始",color:"secondary",onClick:e.resetAnswers,disable:e.showingResult,class:"q-mx-sm"},null,8,["onClick","disable"])])])]),o(Ve,{modelValue:e.showResult,"onUpdate:modelValue":t[2]||(t[2]=c=>e.showResult=c)},{default:p(()=>[o(ze,{style:{"min-width":"350px"}},{default:p(()=>[o(K,null,{default:p(()=>t[6]||(t[6]=[s("div",{class:"text-h6"},"檢查結果",-1)])),_:1}),o(K,{class:"q-pt-none"},{default:p(()=>[s("div",nt,T(e.resultMessage),1)]),_:1}),o(De,{align:"right"},{default:p(()=>[Qe(o(A,{flat:"",label:"關閉",color:"primary"},null,512),[[Ne]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const dt=qe(Fe,[["render",ut],["__scopeId","data-v-8d076f63"],["__file","Song4WordPage.vue"]]);export{dt as default};
