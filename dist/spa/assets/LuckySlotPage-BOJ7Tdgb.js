import{X as Ce,r as m,b as he,H as Ee,V as Ae,n as we,_ as De,Z as b,$ as Te,a0 as S,ab as F,a1 as f,aa as K,a4 as u,a5 as M,a8 as h,ad as k,I as je,ax as Se,af as Ve,a9 as x,ah as X,bl as Y,a6 as $e,ae as Pe}from"./index-I4eKQSyC.js";import{Q as Re}from"./QSlideTransition-Beqi9V56.js";import{Q as qe}from"./QPage-DRbqDKjR.js";import{g as Q,r as g,a as L,s as T,b as ue,p as oe}from"./index.esm2017-CIO01KtW.js";import"./index.esm2017-ClwH-SB1.js";const Ie=Ce({name:"LuckySlotPage",props:{uid:{type:String,default:""}},setup(l){const a=m(null),j=m(null),V=m(!0),E=m(!1),$=m(!1),i=m(null),ie=m(!1),U=m(""),P=m(""),O=m(!1),W=m(!1),A=m(""),ae=m(""),G=m(""),Z=m({A:"",B:"",C:"",D:""}),R=m(""),J=m({title:"",content:"",tip:""}),ne=he(()=>!i.value||!i.value.task?!1:i.value.title.includes("動詞")||i.value.title.includes("名詞")||i.value.title.includes("形容詞")||i.value.title.includes("特殊")?U.value.trim().length>=10:i.value.title.includes("雙七")?["A","B","C","D"].includes(P.value):i.value.title.includes("幸運")?!!O.value:!1),w=[{type:"verb",value:"run",emoji:"🏃",category:"運動",text:"run"},{type:"verb",value:"eat",emoji:"🍽️",category:"飲食",text:"eat"},{type:"verb",value:"jump",emoji:"🦘",category:"運動",text:"jump"},{type:"verb",value:"play",emoji:"🎮",category:"娛樂",text:"play"},{type:"verb",value:"sing",emoji:"🎤",category:"音樂",text:"sing"},{type:"noun",value:"guitar",emoji:"🎸",category:"音樂",text:"guitar"},{type:"noun",value:"book",emoji:"📚",category:"校園",text:"book"},{type:"noun",value:"computer",emoji:"💻",category:"科技",text:"computer"},{type:"noun",value:"ball",emoji:"⚽",category:"運動",text:"ball"},{type:"noun",value:"fruit",emoji:"🍎",category:"飲食",text:"fruit"},{type:"adjective",value:"happy",emoji:"😊",category:"情緒",text:"happy"},{type:"adjective",value:"smart",emoji:"🧠",category:"特質",text:"smart"},{type:"adjective",value:"fast",emoji:"⚡",category:"特質",text:"fast"},{type:"adjective",value:"big",emoji:"📏",category:"大小",text:"big"},{type:"adjective",value:"sweet",emoji:"🍭",category:"味道",text:"sweet"},{type:"special",value:"seven",emoji:"7️⃣",category:"特殊",text:"7️⃣"},{type:"special",value:"light",emoji:"💡",category:"特殊",text:"💡"},{type:"special",value:"music",emoji:"🎵",category:"特殊",text:"🎵"}],p=m([{position:0,finalPosition:0,spinning:!1,symbols:[]},{position:0,finalPosition:0,spinning:!1,symbols:[]},{position:0,finalPosition:0,spinning:!1,symbols:[]}]),q={body:"#ffffff",frame:"#0070ff",reelBackground:"#f5f8ff",reelBorder:"#e6e6eb",reelSeparator:"#e6e6eb",symbolBackground:"#ffffff"},z=m(600),_=m(400),ee=()=>{const e=window.innerWidth;e<=600?(z.value=e-32,_.value=z.value*2/3):(z.value=600,_.value=400),we(()=>{a.value&&te()})},te=()=>{if(!a.value){console.error("Canvas元素未找到，將在100ms後重試"),setTimeout(()=>{a.value&&te()},100);return}if(j.value=a.value.getContext("2d"),!j.value){console.error("無法獲取Canvas context");return}console.log("Canvas context 建立成功");for(let e=0;e<p.value.length;e++){const t=p.value[e];if(t){const s=w.filter(v=>v.type==="verb"),n=w.filter(v=>v.type==="noun"),o=w.filter(v=>v.type==="adjective"),c=w.filter(v=>v.type==="special"),d=[...s,...n,...o,...c];t.symbols=d.sort(()=>Math.random()-.5),t.position=Math.floor(Math.random()*t.symbols.length),console.log(`輪盤 ${e} 初始化了 ${t.symbols.length} 個符號`)}}se()},se=()=>{if(!j.value||!a.value){console.error("無法繪製拉霸機：Canvas或Context不存在");return}console.log("開始繪製拉霸機");const e=a.value,t=j.value,s=window.innerWidth<=600;t.clearRect(0,0,e.width,e.height),s||(I(t,50,50,500,300,12,q.body,!1),t.strokeStyle=q.frame,t.lineWidth=3,I(t,50,50,500,300,12,null,!0),t.fillStyle="#1a1a1a",t.font="bold 24px Arial",t.textAlign="center",t.fillText("Lucky English Slot",e.width/2,35));const n=s?e.width/3.5:120,o=s?e.height*.8:200,c=s?(e.width-(n*3+40))/2:e.width/2-n*1.5-20,d=s?e.height*.1:100;for(let v=0;v<p.value.length;v++){const r=c+v*(n+(s?10:20));s||(I(t,r,d,n,o,8,q.reelBackground,!1),t.strokeStyle=q.reelBorder,t.lineWidth=2,I(t,r,d,n,o,8,null,!0));const y=p.value[v];if(y&&y.symbols.length>0){const B=o/3;for(let D=-1;D<=1;D++){const Be=(y.position+D+y.symbols.length)%y.symbols.length,C=y.symbols[Be],le=d+(D+1)*B;t.fillStyle=q.symbolBackground,t.beginPath(),t.arc(r+n/2,le+B/2,B/2-(s?2:5),0,Math.PI*2),t.fill(),t.strokeStyle="#0070ff",t.lineWidth=s?.5:1,t.stroke(),t.fillStyle=D===0?"#0070ff":"#666666",t.font=D===0?s?"bold 16px Arial":"bold 24px Arial":s?"14px Arial":"20px Arial",t.textAlign="center",t.textBaseline="middle",C&&D===0&&(C.type==="verb"?t.fillStyle="#0070ff":C.type==="noun"?t.fillStyle="#FF9500":C.type==="adjective"?t.fillStyle="#34C759":C.type==="special"&&(t.fillStyle="#AF52DE")),C&&C.text?t.fillText(C.text,r+n/2,le+B/2):C&&t.fillText(C.value,r+n/2,le+B/2)}}}s||(t.fillStyle="#f5f8ff",I(t,100,d+o+20,400,50,8,"#f5f8ff",!1),t.fillStyle="#1a1a1a",t.font="16px Arial",t.textAlign="center",t.textBaseline="middle",t.fillText(E.value?"旋轉中...":V.value?"拉下右側手柄開始":"今日已玩過",e.width/2,d+o+45))},I=(e,t,s,n,o,c,d,v)=>{typeof c>"u"&&(c=5),e.beginPath(),e.moveTo(t+c,s),e.lineTo(t+n-c,s),e.quadraticCurveTo(t+n,s,t+n,s+c),e.lineTo(t+n,s+o-c),e.quadraticCurveTo(t+n,s+o,t+n-c,s+o),e.lineTo(t+c,s+o),e.quadraticCurveTo(t,s+o,t,s+o-c),e.lineTo(t,s+c),e.quadraticCurveTo(t,s,t+c,s),e.closePath(),d&&(e.fillStyle=d,e.fill()),v&&e.stroke()},re=()=>{E.value||!V.value||l.uid===""||($.value=!0,E.value=!0,i.value=null,ce().then(e=>{if(!e){E.value=!1,$.value=!1;return}de(),setTimeout(()=>{$.value=!1},1e3)}))},ce=async()=>{if(l.uid==="")return!1;const e=Q(),t=g(e,`users/${l.uid}`),s=await L(t),n=new Date().toDateString();let o=0,c="";if(s.exists()){const d=s.val();o=d.playCount||0,c=d.lastPlayDate||""}if(c===n){if(o>=100)return V.value=!1,alert("今天已經玩滿100次了，明天再來吧！"),!1;o+=1}else o=1,c=n;return await T(g(e,`users/${l.uid}/playCount`),o),await T(g(e,`users/${l.uid}/lastPlayDate`),c),await T(g(e,`users/${l.uid}/lastPlay`),ue()),!0},de=()=>{const e=ve();for(let v=0;v<p.value.length;v++){const r=p.value[v];r&&v<e.length&&e[v]!==void 0&&(r.finalPosition=e[v],r.spinning=!0)}let t=0;const s=60,o=3e3/s,c=[Math.floor(s*.6),Math.floor(s*.8),s],d=()=>{t++;for(let v=0;v<p.value.length;v++){const r=p.value[v];if(!r)continue;const y=c[v];y!==void 0&&t<y?r.position=(r.position+1)%r.symbols.length:y!==void 0&&t===y&&(r.position=r.finalPosition,r.spinning=!1)}se(),t<s?setTimeout(()=>{requestAnimationFrame(d)},o):(E.value=!1,me())};d()},ve=()=>{const e=p.value.map(s=>s?Math.floor(Math.random()*s.symbols.length):0),t=Math.random();if(t<.1){const s=[];for(let n=0;n<p.value.length;n++){const o=p.value[n];if(o){const c=o.symbols.findIndex(d=>d.type==="verb");s.push(c>=0?c:e[n]||0)}else s.push(0)}return s}else if(t<.2){const s=p.value[0],n=p.value[1],o=p.value[2];return[s&&s.symbols?s.symbols.findIndex(d=>d.type==="verb"):-1,n&&n.symbols?n.symbols.findIndex(d=>d.type==="noun"):-1,o&&o.symbols?o.symbols.findIndex(d=>d.type==="special"):-1].map(d=>d>=0?d:Math.floor(Math.random()*w.length))}else if(t<.25){const s=w.findIndex(n=>n.emoji==="7️⃣");s>=0&&(e[0]=s,e[1]=s)}return e},me=async()=>{if(l.uid==="")return;const e=p.value.map(r=>r?r.symbols[r.position]:void 0);if(!e.every(r=>r!==void 0)){console.error("Invalid symbols found in result");return}let s="再接再厲！",n="下次再來試試看吧！",o,c=0;e.every(r=>r?.type==="verb")?(s="動詞組合！",n=`你抽到了：${e.map(r=>r?.value).join(", ")}`,o="請用其中一個動詞造句",c=3):e.every(r=>r?.type==="noun")?(s="名詞組合！",n=`你抽到了：${e.map(r=>r?.value).join(", ")}`,o="請描述其中一個物品的功能",c=3):e.every(r=>r?.type==="adjective")?(s="形容詞組合！",n=`你抽到了：${e.map(r=>r?.value).join(", ")}`,o="請用其中一個形容詞描述你的心情",c=3):e.some(r=>r?.type==="verb")&&e.some(r=>r?.type==="noun")&&e.some(r=>r?.type==="special")?(s="特殊組合！",n=`你抽到了：${e.map(r=>r?.value).join(", ")}`,o="請翻譯這組搭配的句子",c=2):e.filter(r=>r?.emoji==="7️⃣").length>=2?(s="雙七組合！",n="恭喜獲得 Bonus 問答題！",o="開始問答",c=5):e.every(r=>r?.emoji==="💡")&&(s="幸運組合！",n="你獲得了知識小卡片！",o="查看小知識",c=1);const v={title:s,description:n,points:c};o&&(v.task=o),i.value=v,U.value="",P.value="",O.value=!1,W.value=!1,A.value="",o&&fe(e.filter(r=>r!==void 0)),await ge(e.filter(r=>r!==void 0),c)},fe=e=>{if(!(!i.value||!i.value.title))if(i.value.title.includes("特殊")){const t=e.find(o=>o.type==="verb")?.value||"",s=e.find(o=>o.type==="noun")?.value||"",n=e.find(o=>o.type==="special")?.emoji||"";ae.value=`I ${t} the ${s} when I see ${n}.`}else i.value.title.includes("雙七")?pe():i.value.title.includes("幸運")&&ye()},pe=async()=>{try{const e=Q(),t=g(e,"bonusQuestions"),s=await L(t);if(s.exists()){const n=s.val(),o=Object.keys(n);if(o.length>0){const c=o[Math.floor(Math.random()*o.length)],d=n[c];G.value=d.question,Z.value=d.options,R.value=d.answer}else N()}else N()}catch(e){console.error("獲取問答題失敗:",e),N()}},N=()=>{G.value="Which of these is NOT a part of speech in English?",Z.value={A:"Noun",B:"Adjective",C:"Transitive",D:"Adverb"},R.value="C"},ye=async()=>{try{const e=Q(),t=g(e,"knowledgeCards"),s=await L(t);if(s.exists()){const n=s.val(),o=Object.keys(n);if(o.length>0){const c=o[Math.floor(Math.random()*o.length)],d=n[c];J.value=d}else H()}else H()}catch(e){console.error("獲取知識卡片失敗:",e),H()}},H=()=>{J.value={title:"英文學習小技巧",content:"研究表明，每天學習10-15個新單詞並立即使用它們造句，能夠顯著提高你的詞彙量和記憶效果。",tip:"嘗試在日常生活中尋找機會使用新學的單詞，這樣能夠更好地鞏固記憶。"}},be=async()=>{if(!(l.uid===""||!i.value||!ne.value))try{const e=Q();let t=!0,s=0,n="";i.value.title.includes("動詞")||i.value.title.includes("名詞")||i.value.title.includes("形容詞")||i.value.title.includes("特殊")?(n=U.value,s=1,A.value="感謝你完成今天的學習任務！"):i.value.title.includes("雙七")?(n=P.value,t=P.value===R.value,s=t?2:0,A.value=t?"答對了！獲得額外的獎勵點數！":`答錯了！正確答案是 ${R.value}`):i.value.title.includes("幸運")?(n=O.value?"已閱讀":"未閱讀",s=1,A.value="感謝你完成今天的學習任務！"):(s=1,A.value="感謝你完成今天的學習任務！");const o={taskType:Fe(),answer:String(n),correct:t,points:i.value.points+s,timestamp:new Date().toISOString()};console.log("任務完成記錄:",o),W.value=!0;try{const c=g(e,`users/${l.uid}`),d=await L(c);if(d.exists()){const y=(d.val().points||0)+(i.value.points+s);await T(g(e,`users/${l.uid}/points`),y)}try{const v=g(e,`userTasks/${l.uid}`);await oe(v,o)}catch(v){console.log("保存任務記錄失敗，但用戶體驗不受影響:",v)}}catch(c){console.log("更新積分失敗，用戶體驗不受影響:",c)}}catch(e){console.error("提交任務失敗:",e),e instanceof Error&&console.log(`提交任務錯誤: ${e.message}。但任務仍標記為完成。`),W.value=!0,A.value="您的答案已記錄！資料同步可能在稍後完成。"}},Fe=()=>i.value?i.value.title.includes("動詞")?"verb":i.value.title.includes("名詞")?"noun":i.value.title.includes("形容詞")?"adjective":i.value.title.includes("特殊")?"special":i.value.title.includes("雙七")?"bonus":i.value.title.includes("幸運")?"knowledge":"unknown":"unknown",ge=async(e,t)=>{if(l.uid==="")return;const s=Q();try{const n=g(s,`gameRecords/${l.uid}`),o=oe(n);await T(o,{symbols:e.map(B=>({type:B.type,value:B.value,emoji:B.emoji,category:B.category,text:B.text})),points:t,timestamp:ue()});const c=g(s,`users/${l.uid}`),d=await L(c),v=d.exists()&&d.val().points||0;await T(g(s,`users/${l.uid}/points`),v+t);const r=g(s,`users/${l.uid}/notifications`),y=oe(r);await T(y,{type:"gameResult",message:`拉霸結果：${i.value?.title}，獲得 ${t} 點！`,timestamp:ue(),read:!1})}catch(n){console.error("儲存遊戲記錄失敗:",n)}},ke=()=>{if(console.log("手動觸發重繪"),a.value){j.value=a.value.getContext("2d");for(let e=0;e<p.value.length;e++){const t=p.value[e];t&&t.symbols.length===0&&(t.symbols=[...w].sort(()=>Math.random()-.5),t.position=Math.floor(Math.random()*t.symbols.length),console.log(`重新初始化轉輪 ${e} 的符號`))}se()}else console.error("Canvas元素不存在，無法重繪")};return Ee(()=>{console.log("開始初始化頁面");let e=0;const t=5,s=()=>{a.value?(console.log("找到Canvas元素，開始初始化"),te()):e<t?(e++,console.log(`Canvas元素未找到，第 ${e} 次重試`),setTimeout(s,200)):console.error("Canvas元素初始化失敗，已達最大重試次數")};s(),ee(),window.addEventListener("resize",ee)}),Ae(()=>{window.removeEventListener("resize",ee)}),{slotCanvas:a,canPlay:V,spinning:E,leverPulled:$,result:i,pullLever:re,forceRedraw:ke,textTaskAnswer:U,radioTaskAnswer:P,checkboxTaskAnswer:O,taskCompleted:W,taskFeedback:A,specialCombinationSentence:ae,bonusQuestion:G,bonusOptions:Z,bonusCorrectAnswer:R,knowledgeCard:J,isTaskAnswerValid:ne,submitTask:be,useDefaultBonusQuestion:N,useDefaultKnowledgeCard:H,showRules:ie,canvasWidth:z,canvasHeight:_}}}),Me={key:0,class:"text-center q-pa-lg login-container"},xe={class:"rules-container q-mb-lg"},Qe={class:"slot-machine-container"},Le=["width","height"],Ue={key:0,class:"result-container q-mt-lg"},Oe={class:"result-title"},We={class:"result-description"},ze={key:0,class:"task-container"},Ne={key:0,class:"task-input-container q-mt-md"},He={key:0},Ke={key:1},Xe={key:2},Ye={key:3},Ge={class:"translation-text q-mb-md"},Ze={key:4},Je={class:"task-instruction"},_e={class:"bonus-options"},et={key:5},tt={class:"knowledge-card"},st={class:"knowledge-title"},lt={class:"knowledge-content"},ut={class:"knowledge-tip"},ot={class:"task-actions q-mt-md"},at={key:1,class:"task-completed-container q-mt-md"},nt={class:"task-completed-message"},it={key:0,class:"task-feedback q-mt-sm"},rt={class:"points-container"},ct={class:"q-mt-lg action-buttons"};function dt(l,a,j,V,E,$){return b(),Te(qe,{class:"flex flex-center column",style:{"background-color":"#f5f5f7","min-height":"100vh",padding:"16px"}},{default:S(()=>[l.uid===""?(b(),F("div",Me,[f(K,{name:"lock",size:"50px",color:"grey-5"}),a[11]||(a[11]=u("p",{class:"text-h6 q-mt-md",style:{color:"#1a1a1a"}},"請先登入以使用拉霸機",-1)),f(M,{color:"primary",label:"登入",to:"/login",style:{"margin-top":"16px"}})])):(b(),F(Pe,{key:1},[a[22]||(a[22]=u("div",{class:"text-h4 q-mb-md page-title"},"🎉 每天拉一次，強化英文力！",-1)),f(M,{color:"secondary",flat:"",class:"q-mb-md",onClick:a[0]||(a[0]=i=>l.showRules=!l.showRules),style:{"border-radius":"8px"}},{default:S(()=>[f(K,{name:"info",class:"q-mr-xs"}),h(" "+k(l.showRules?"隱藏遊戲規則":"查看遊戲規則"),1)]),_:1}),f(Re,null,{default:S(()=>[je(u("div",xe,a[12]||(a[12]=[u("div",{class:"text-h6 rules-title"},"🎮 Lucky Slot 英文拉霸機 - 遊戲規則",-1),u("div",{class:"rules-content"},[u("p",null,[h("每天可玩 "),u("b",null,"100"),h(" 次，拉下右側手柄或點擊「拉霸開始」按鈕開始遊戲！")]),u("div",{class:"rules-section"},[u("div",{class:"rules-subtitle"},"📊 組合獎勵"),u("div",{class:"combinations-grid"},[u("div",{class:"combination-card"},[u("div",{class:"combination-title"},"3個動詞"),u("div",{class:"combination-example"},"run, eat, jump"),u("div",{class:"combination-task"},"用其中一個動詞造句"),u("div",{class:"combination-points"},"+3點")]),u("div",{class:"combination-card"},[u("div",{class:"combination-title"},"3個名詞"),u("div",{class:"combination-example"},"guitar, book, computer"),u("div",{class:"combination-task"},"描述其中一個物品的功能"),u("div",{class:"combination-points"},"+3點")]),u("div",{class:"combination-card"},[u("div",{class:"combination-title"},"3個形容詞"),u("div",{class:"combination-example"},"happy, smart, fast"),u("div",{class:"combination-task"},"用其中一個描述心情"),u("div",{class:"combination-points"},"+3點")]),u("div",{class:"combination-card"},[u("div",{class:"combination-title"},"特殊組合"),u("div",{class:"combination-example"},"動詞 + 名詞 + 特殊符號"),u("div",{class:"combination-task"},"翻譯指定句子"),u("div",{class:"combination-points"},"+2點")]),u("div",{class:"combination-card"},[u("div",{class:"combination-title"},"雙七組合"),u("div",{class:"combination-example"},"兩個七符號 (7️⃣7️⃣)"),u("div",{class:"combination-task"},"回答英文問答題"),u("div",{class:"combination-points"},"+5點")]),u("div",{class:"combination-card"},[u("div",{class:"combination-title"},"幸運組合"),u("div",{class:"combination-example"},"三個燈泡 (💡💡💡)"),u("div",{class:"combination-task"},"獲得英文小知識"),u("div",{class:"combination-points"},"+1點")])])]),u("div",{class:"rules-section"},[u("div",{class:"rules-subtitle"},"🏆 任務與獎勵"),u("ul",null,[u("li",null,"完成任務後可獲得額外點數"),u("li",null,"累積點數可用於解鎖更多學習內容和功能"),u("li",null,"提交答案時系統會自動儲存您的學習紀錄")])]),u("p",{class:"rules-tip"}," 💡 小提示：每天堅持玩拉霸機能有效增強您的英文單字記憶力與運用能力！ ")],-1)]),512),[[Se,l.showRules]])]),_:1}),u("div",Qe,[u("canvas",{ref:"slotCanvas",class:"slot-canvas",width:l.canvasWidth,height:l.canvasHeight},null,8,Le),!l.spinning&&l.canPlay?(b(),F("div",{key:0,class:Ve(["slot-lever",{"lever-pulled":l.leverPulled}]),onClick:a[1]||(a[1]=(...i)=>l.pullLever&&l.pullLever(...i))},a[13]||(a[13]=[u("div",{class:"lever-grip"},null,-1),u("div",{class:"lever-stick"},null,-1),u("div",{class:"lever-base"},null,-1)]),2)):x("",!0)]),l.result?(b(),F("div",Ue,[u("div",Oe,k(l.result.title),1),u("div",We,k(l.result.description),1),l.result.task?(b(),F("div",ze,[a[20]||(a[20]=u("div",{style:{"font-weight":"600","margin-bottom":"8px",color:"#1a1a1a"}},"今日任務：",-1)),u("div",null,k(l.result.task),1),l.taskCompleted?(b(),F("div",at,[u("div",nt,[f(K,{name:"check_circle",color:"positive",size:"24px",class:"q-mr-sm"}),a[19]||(a[19]=h(" 任務已完成！ "))]),l.taskFeedback?(b(),F("div",it,k(l.taskFeedback),1)):x("",!0)])):(b(),F("div",Ne,[l.result.title.includes("動詞")?(b(),F("div",He,[a[14]||(a[14]=u("p",{class:"task-instruction"},"請使用上方動詞造一個完整的英文句子：",-1)),f(X,{modelValue:l.textTaskAnswer,"onUpdate:modelValue":a[2]||(a[2]=i=>l.textTaskAnswer=i),outlined:"",type:"textarea",placeholder:"例如：I run every morning to stay healthy.",class:"task-input"},null,8,["modelValue"])])):l.result.title.includes("名詞")?(b(),F("div",Ke,[a[15]||(a[15]=u("p",{class:"task-instruction"},"請用英文描述其中一個物品的功能或特點：",-1)),f(X,{modelValue:l.textTaskAnswer,"onUpdate:modelValue":a[3]||(a[3]=i=>l.textTaskAnswer=i),outlined:"",type:"textarea",placeholder:"例如：A guitar is a musical instrument that produces sound when you pluck its strings.",class:"task-input"},null,8,["modelValue"])])):l.result.title.includes("形容詞")?(b(),F("div",Xe,[a[16]||(a[16]=u("p",{class:"task-instruction"},"請用英文形容你現在的心情或一件事物：",-1)),f(X,{modelValue:l.textTaskAnswer,"onUpdate:modelValue":a[4]||(a[4]=i=>l.textTaskAnswer=i),outlined:"",type:"textarea",placeholder:"例如：I feel happy when I listen to my favorite music.",class:"task-input"},null,8,["modelValue"])])):l.result.title.includes("特殊")?(b(),F("div",Ye,[a[17]||(a[17]=u("p",{class:"task-instruction"},"請翻譯以下句子：",-1)),u("div",Ge,k(l.specialCombinationSentence),1),f(X,{modelValue:l.textTaskAnswer,"onUpdate:modelValue":a[5]||(a[5]=i=>l.textTaskAnswer=i),outlined:"",type:"textarea",placeholder:"請輸入中文翻譯...",class:"task-input"},null,8,["modelValue"])])):l.result.title.includes("雙七")?(b(),F("div",Ze,[u("p",Je,k(l.bonusQuestion),1),u("div",_e,[f(Y,{modelValue:l.radioTaskAnswer,"onUpdate:modelValue":a[6]||(a[6]=i=>l.radioTaskAnswer=i),val:"A",label:l.bonusOptions.A,class:"q-mb-sm"},null,8,["modelValue","label"]),f(Y,{modelValue:l.radioTaskAnswer,"onUpdate:modelValue":a[7]||(a[7]=i=>l.radioTaskAnswer=i),val:"B",label:l.bonusOptions.B,class:"q-mb-sm"},null,8,["modelValue","label"]),f(Y,{modelValue:l.radioTaskAnswer,"onUpdate:modelValue":a[8]||(a[8]=i=>l.radioTaskAnswer=i),val:"C",label:l.bonusOptions.C,class:"q-mb-sm"},null,8,["modelValue","label"]),f(Y,{modelValue:l.radioTaskAnswer,"onUpdate:modelValue":a[9]||(a[9]=i=>l.radioTaskAnswer=i),val:"D",label:l.bonusOptions.D},null,8,["modelValue","label"])])])):l.result.title.includes("幸運")?(b(),F("div",et,[u("div",tt,[u("p",st,k(l.knowledgeCard.title),1),u("p",lt,k(l.knowledgeCard.content),1),u("p",ut,k(l.knowledgeCard.tip),1)]),f($e,{modelValue:l.checkboxTaskAnswer,"onUpdate:modelValue":a[10]||(a[10]=i=>l.checkboxTaskAnswer=i),"true-value":"true",label:"我已閱讀並理解這個小知識"},null,8,["modelValue"])])):x("",!0),u("div",ot,[f(M,{color:"primary",disable:!l.isTaskAnswerValid,onClick:l.submitTask,style:{"border-radius":"8px"}},{default:S(()=>a[18]||(a[18]=[h(" 提交答案 ")])),_:1},8,["disable","onClick"])])]))])):x("",!0),u("div",rt,[f(K,{name:"stars",color:"primary",size:"24px",class:"q-mr-sm"}),h(" 獲得 "+k(l.result.points)+" 點 ",1)])])):x("",!0),u("div",ct,[f(M,{color:"primary",disable:!l.canPlay||l.spinning,onClick:l.pullLever,class:"action-button"},{default:S(()=>[h(k(l.spinning?"旋轉中...":l.canPlay?"拉霸開始！":"今日已玩過"),1)]),_:1},8,["disable","onClick"]),f(M,{color:"secondary",onClick:l.forceRedraw,class:"action-button"},{default:S(()=>a[21]||(a[21]=[h(" 重繪畫面 ")])),_:1},8,["onClick"])])],64))]),_:1})}const bt=De(Ie,[["render",dt],["__scopeId","data-v-65f4d593"],["__file","LuckySlotPage.vue"]]);export{bt as default};
