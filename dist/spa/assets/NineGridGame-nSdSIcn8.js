import{X as W,r,b as z,_ as K,Z as m,$ as E,a0 as a,a4 as n,a1 as l,aa as L,a8 as d,af as y,ar as g,ad as t,ab as C,ac as R,a9 as b,ae as U,a5 as A,ak as T,ag as X,a2 as G,a3 as B,aq as V,a7 as q,I as Z}from"./index-CRVyQ5Pk.js";import{Q as H}from"./QPage-jDM6-lCZ.js";import{C as J}from"./ClosePopup-C5dzjf-q.js";const M=W({name:"NineGridGame",setup(){const e=r([{chinese:"愛",english:["love","affection"],points:5,flipped:!1,owner:null},{chinese:"和平",english:["peace"],points:3,flipped:!1,owner:null},{chinese:"智慧",english:["wisdom"],points:4,flipped:!1,owner:null},{chinese:"慈悲",english:["mercy","compassion"],points:5,flipped:!1,owner:null},{chinese:"寧靜",english:["serenity","tranquility"],points:4,flipped:!1,owner:null},{chinese:"善良",english:["kindness"],points:3,flipped:!1,owner:null},{chinese:"信念",english:["faith","belief"],points:4,flipped:!1,owner:null},{chinese:"勇氣",english:["courage","bravery"],points:3,flipped:!1,owner:null},{chinese:"希望",english:["hope"],points:5,flipped:!1,owner:null}]),s=r("Buddha"),c=r(0),p=r(0),v=r(""),f=r(!1),u=r(!1),w=r(null),_=z(()=>f.value?c.value>p.value?"Buddha":p.value>c.value?"Guanyin":null:null);function Q(){const i=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let h=0;h<i.length;h++){const o=i[h],N=o[0],P=o[1],j=o[2],D=e.value[N],F=e.value[P],k=e.value[j];if(D.flipped&&F.flipped&&k.flipped&&D.owner===F.owner&&F.owner===k.owner)return!0}return!1}function I(){const i=v.value.toLowerCase().trim();let h=!1;if(e.value.forEach(o=>{!o.flipped&&o.english.includes(i)&&(o.flipped=!0,o.owner=s.value,s.value==="Buddha"?c.value+=o.points:p.value+=o.points,h=!0)}),h){if(Q()){f.value=!0;return}if(e.value.every(o=>o.flipped)){f.value=!0;return}}s.value=s.value==="Buddha"?"Guanyin":"Buddha",v.value=""}function S(i){w.value=i,u.value=!0}function $(){e.value.forEach(i=>{i.flipped=!1,i.owner=null}),c.value=0,p.value=0,s.value="Buddha",f.value=!1}return{grid:e,currentPlayer:s,buddhaScore:c,guanyinScore:p,answer:v,showResult:f,showWordInfo:u,selectedCell:w,winner:_,checkAnswer:I,showCellInfo:S,resetGame:$}}}),O={class:"row items-center q-mb-md"},Y={class:"col"},x={class:"row q-mb-md justify-around"},ee={class:"text-h6 q-ml-sm"},se={class:"text-h6 q-ml-sm"},ne={class:"grid-container q-mb-lg"},ue=["onClick"],le={class:"cell-content"},ae={class:"chinese"},oe={key:0,class:"points"},te={key:1,class:"owner"},ie={class:"row q-gutter-md justify-center"},re={class:"text-h6"},de={class:"text-h6"},ce={class:"text-h5 q-mt-md"},pe={class:"text-h6"},fe={class:"text-subtitle2"},he={class:"text-body1"};function me(e,s,c,p,v,f){return m(),E(H,{class:"q-pa-md"},{default:a(()=>[n("div",O,[n("h1",Y,[l(L,{name:"grid_view",size:"md",color:"primary",class:"q-mr-sm"}),s[3]||(s[3]=d(" 雙人中英文九宮格連連看： "))])]),s[8]||(s[8]=n("div",{class:"row q-mb-md justify-around"},[n("p",{class:"col"},[d(" 說明：佛陀(Buddha)和觀音(Guanyin)，"),n("br"),d(" 輪流翻開九宮格，"),n("br"),d(" 如果翻開的九宮格中有三個連成一線，遊戲結束，並顯示勝利者。"),n("br")])],-1)),n("div",x,[n("div",{class:y(["score-card",{"current-player":e.currentPlayer==="Buddha"}])},[l(g,{color:"deep-purple","text-color":"white"},{default:a(()=>s[4]||(s[4]=[d("B")])),_:1}),n("div",ee,"佛陀(Buddha): "+t(e.buddhaScore),1)],2),n("div",{class:y(["score-card",{"current-player":e.currentPlayer==="Guanyin"}])},[l(g,{color:"teal","text-color":"white"},{default:a(()=>s[5]||(s[5]=[d("G")])),_:1}),n("div",se,"觀音(Guanyin): "+t(e.guanyinScore),1)],2)]),n("div",ne,[(m(!0),C(U,null,R(e.grid,(u,w)=>(m(),C("div",{key:w,class:y(["grid-cell",{flipped:u.flipped}]),onClick:_=>e.showCellInfo(u)},[n("div",le,[n("div",ae,t(u.chinese),1),u.flipped?b("",!0):(m(),C("div",oe,t(u.points)+"分",1)),u.flipped?(m(),C("div",te,[l(g,{color:u.owner==="Buddha"?"deep-purple":"teal",size:"sm"},{default:a(()=>[d(t(u.owner==="Buddha"?"B":"G"),1)]),_:2},1032,["color"])])):b("",!0)])],10,ue))),128))]),n("div",ie,[l(X,{modelValue:e.answer,"onUpdate:modelValue":s[0]||(s[0]=u=>e.answer=u),outlined:"",label:`${e.currentPlayer}的回答`,onKeyup:T(e.checkAnswer,["enter"])},{append:a(()=>[l(A,{round:"",dense:"",flat:"",icon:"send",onClick:e.checkAnswer},null,8,["onClick"])]),_:1},8,["modelValue","label","onKeyup"])]),l(q,{modelValue:e.showResult,"onUpdate:modelValue":s[1]||(s[1]=u=>e.showResult=u)},{default:a(()=>[l(G,null,{default:a(()=>[l(B,{class:"row items-center"},{default:a(()=>s[6]||(s[6]=[n("div",{class:"text-h6"},"遊戲結束！",-1)])),_:1}),l(B,null,{default:a(()=>[n("div",re,"Buddha: "+t(e.buddhaScore)+"分",1),n("div",de,"Guanyin: "+t(e.guanyinScore)+"分",1),n("div",ce,t(e.winner?`${e.winner} 獲勝！`:"平手！"),1)]),_:1}),l(V,{align:"right"},{default:a(()=>[l(A,{flat:"",label:"重新開始",color:"primary",onClick:e.resetGame},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(q,{modelValue:e.showWordInfo,"onUpdate:modelValue":s[2]||(s[2]=u=>e.showWordInfo=u)},{default:a(()=>[e.selectedCell?(m(),E(G,{key:0},{default:a(()=>[l(B,null,{default:a(()=>[n("div",pe,t(e.selectedCell.chinese),1),n("div",fe,t(e.selectedCell.points)+"分",1)]),_:1}),l(B,null,{default:a(()=>[s[7]||(s[7]=n("div",null,"可接受的英文答案：",-1)),n("div",he,t(e.selectedCell.english.join(", ")),1)]),_:1}),l(V,{align:"right"},{default:a(()=>[Z(l(A,{flat:"",label:"關閉",color:"primary"},null,512),[[J]])]),_:1})]),_:1})):b("",!0)]),_:1},8,["modelValue"])]),_:1})}const Be=K(M,[["render",me],["__scopeId","data-v-779160f3"],["__file","NineGridGame.vue"]]);export{Be as default};
