import{a3 as y,b as F,r as S,n as w,a4 as $,a5 as b,a6 as d,ai as v,a7 as I,a8 as B,ah as z,al as N,aj as L,a9 as n,ad as l,ac as r,y as k,z as _,b6 as u,ak as C,am as D}from"./index-MNZstt9V.js";const Q=y({name:"FlashCard",props:{sentences:{type:Array,required:!0},searchQuery:{type:String,default:""}},setup(a,{emit:c}){const p=F(()=>{const e=a.searchQuery.toLowerCase().trim();return e?a.sentences.filter(o=>o.chinese.toLowerCase().includes(e)||o.english.toLowerCase().includes(e)):a.sentences}),f=e=>{const o=p.value[e];o&&(o.flipped=!o.flipped,o.flipped&&c("earn-xp",5))},g=(e,o)=>{const i=new SpeechSynthesisUtterance(e);i.lang=o,window.speechSynthesis.speak(i),c("earn-xp",5)},t=S((()=>{const e=localStorage.getItem("en_love_arr");return e?JSON.parse(e):[]})());return{filteredSentences:p,toggleCard:f,speak:g,isInFavorites:e=>t.value.some(o=>o.english===e.english&&o.chinese===e.chinese),toggleFavorite:async e=>{const o=t.value.findIndex(i=>i.english===e.english&&i.chinese===e.chinese);o===-1?(t.value.push({english:e.english,chinese:e.chinese}),c("earn-xp",10)):t.value.splice(o,1),localStorage.setItem("en_love_arr",JSON.stringify(t.value)),await w()}}}}),V={class:"cards-container"},q=["onClick"],J={class:"card-front"},O={class:"heart-button"},T={class:"card-back"},U={class:"heart-button"};function W(a,c,p,f,g,m){const t=b("router-link");return d(),v("div",V,[!a.$route.path.startsWith("/fav")&&a.$route.path!=="/favorite"?(d(),I(t,{key:0,to:"/fav/view",class:"fixed-bottom-right z-top"},{default:B(()=>[n(l,{icon:"favorite",size:"lg",color:"pink",label:"前往最愛"})]),_:1})):z("",!0),(d(!0),v(N,null,L(a.filteredSentences,(s,h)=>(d(),v("div",{class:"card",key:h,onClick:e=>a.toggleCard(h)},[r("div",{class:D(["card-inner",{flipped:s.flipped}])},[k(r("div",J,[r("div",O,[n(l,{onClick:u(e=>a.toggleFavorite(s),["stop"]),icon:a.isInFavorites(s)?"favorite":"favorite_border",flat:"",round:"",color:"pink"},null,8,["onClick","icon"])]),r("p",null,C(s.chinese),1),n(l,{onClick:u(e=>a.speak(s.chinese,"zh-TW"),["stop"]),icon:"volume_up",flat:"",round:"",color:"primary"},null,8,["onClick"])],512),[[_,!s.flipped]]),k(r("div",T,[r("div",U,[n(l,{onClick:u(e=>a.toggleFavorite(s),["stop"]),icon:a.isInFavorites(s)?"favorite":"favorite_border",flat:"",round:"",color:"pink"},null,8,["onClick","icon"])]),r("p",null,C(s.english),1),n(l,{onClick:u(e=>a.speak(s.english,"en-US"),["stop"]),icon:"volume_up",flat:"",round:"",color:"primary"},null,8,["onClick"])],512),[[_,s.flipped]])],2)],8,q))),128))])}const A=$(Q,[["render",W],["__scopeId","data-v-5d551495"],["__file","FlashCard.vue"]]);export{A as F};
