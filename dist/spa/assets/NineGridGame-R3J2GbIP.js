import{a3 as W,r,b as z,a4 as K,a6 as m,a7 as E,a8 as a,ac as n,a9 as l,A as L,ag as d,ai as F,aw as g,aj as t,ak as C,am as R,ah as A,an as U,ad as b,aq as T,al as H,aa as G,ab as B,av as V,af as q,y as J}from"./index-Bf82t80V.js";import{Q as M}from"./QPage-Bf4Xk8Cl.js";import{C as O}from"./ClosePopup-h5-EVHrO.js";const X=W({name:"NineGridGame",setup(){const e=r([{chinese:"愛",english:["love","affection"],points:5,flipped:!1,owner:null},{chinese:"和平",english:["peace"],points:3,flipped:!1,owner:null},{chinese:"智慧",english:["wisdom"],points:4,flipped:!1,owner:null},{chinese:"慈悲",english:["mercy","compassion"],points:5,flipped:!1,owner:null},{chinese:"寧靜",english:["serenity","tranquility"],points:4,flipped:!1,owner:null},{chinese:"善良",english:["kindness"],points:3,flipped:!1,owner:null},{chinese:"信念",english:["faith","belief"],points:4,flipped:!1,owner:null},{chinese:"勇氣",english:["courage","bravery"],points:3,flipped:!1,owner:null},{chinese:"希望",english:["hope"],points:5,flipped:!1,owner:null}]),s=r("Buddha"),c=r(0),p=r(0),v=r(""),f=r(!1),u=r(!1),w=r(null),D=z(()=>f.value?c.value>p.value?"Buddha":p.value>c.value?"Guanyin":null:null);function Q(){const i=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let h=0;h<i.length;h++){const o=i[h],$=o[0],j=o[1],P=o[2],_=e.value[$],y=e.value[j],k=e.value[P];if(_.flipped&&y.flipped&&k.flipped&&_.owner===y.owner&&y.owner===k.owner)return!0}return!1}function I(){const i=v.value.toLowerCase().trim();let h=!1;if(e.value.forEach(o=>{!o.flipped&&o.english.includes(i)&&(o.flipped=!0,o.owner=s.value,s.value==="Buddha"?c.value+=o.points:p.value+=o.points,h=!0)}),h){if(Q()){f.value=!0;return}if(e.value.every(o=>o.flipped)){f.value=!0;return}}s.value=s.value==="Buddha"?"Guanyin":"Buddha",v.value=""}function S(i){w.value=i,u.value=!0}function N(){e.value.forEach(i=>{i.flipped=!1,i.owner=null}),c.value=0,p.value=0,s.value="Buddha",f.value=!1}return{grid:e,currentPlayer:s,buddhaScore:c,guanyinScore:p,answer:v,showResult:f,showWordInfo:u,selectedCell:w,winner:D,checkAnswer:I,showCellInfo:S,resetGame:N}}}),Y={class:"row items-center q-mb-md"},Z={class:"col"},x={class:"row q-mb-md justify-around"},ee={class:"text-h6 q-ml-sm"},se={class:"text-h6 q-ml-sm"},ne={class:"grid-container q-mb-lg"},ue=["onClick"],le={class:"cell-content"},ae={class:"chinese"},oe={key:0,class:"points"},te={key:1,class:"owner"},ie={class:"row q-gutter-md justify-center"},re={class:"text-h6"},de={class:"text-h6"},ce={class:"text-h5 q-mt-md"},pe={class:"text-h6"},fe={class:"text-subtitle2"},he={class:"text-body1"};function me(e,s,c,p,v,f){return m(),E(M,{class:"q-pa-md"},{default:a(()=>[n("div",Y,[n("h1",Z,[l(L,{name:"grid_view",size:"md",color:"primary",class:"q-mr-sm"}),s[3]||(s[3]=d(" 雙人中英文九宮格連連看： "))])]),s[8]||(s[8]=n("div",{class:"row q-mb-md justify-around"},[n("p",{class:"col"},[d(" 說明：佛陀(Buddha)和觀音(Guanyin)，"),n("br"),d(" 輪流翻開九宮格，"),n("br"),d(" 如果翻開的九宮格中有三個連成一線，遊戲結束，並顯示勝利者。"),n("br")])],-1)),n("div",x,[n("div",{class:F(["score-card",{"current-player":e.currentPlayer==="Buddha"}])},[l(g,{color:"deep-purple","text-color":"white"},{default:a(()=>s[4]||(s[4]=[d("B")])),_:1}),n("div",ee,"佛陀(Buddha): "+t(e.buddhaScore),1)],2),n("div",{class:F(["score-card",{"current-player":e.currentPlayer==="Guanyin"}])},[l(g,{color:"teal","text-color":"white"},{default:a(()=>s[5]||(s[5]=[d("G")])),_:1}),n("div",se,"觀音(Guanyin): "+t(e.guanyinScore),1)],2)]),n("div",ne,[(m(!0),C(U,null,R(e.grid,(u,w)=>(m(),C("div",{key:w,class:F(["grid-cell",{flipped:u.flipped}]),onClick:D=>e.showCellInfo(u)},[n("div",le,[n("div",ae,t(u.chinese),1),u.flipped?A("",!0):(m(),C("div",oe,t(u.points)+"分",1)),u.flipped?(m(),C("div",te,[l(g,{color:u.owner==="Buddha"?"deep-purple":"teal",size:"sm"},{default:a(()=>[d(t(u.owner==="Buddha"?"B":"G"),1)]),_:2},1032,["color"])])):A("",!0)])],10,ue))),128))]),n("div",ie,[l(H,{modelValue:e.answer,"onUpdate:modelValue":s[0]||(s[0]=u=>e.answer=u),outlined:"",label:`${e.currentPlayer}的回答`,onKeyup:T(e.checkAnswer,["enter"])},{append:a(()=>[l(b,{round:"",dense:"",flat:"",icon:"send",onClick:e.checkAnswer},null,8,["onClick"])]),_:1},8,["modelValue","label","onKeyup"])]),l(q,{modelValue:e.showResult,"onUpdate:modelValue":s[1]||(s[1]=u=>e.showResult=u)},{default:a(()=>[l(G,null,{default:a(()=>[l(B,{class:"row items-center"},{default:a(()=>s[6]||(s[6]=[n("div",{class:"text-h6"},"遊戲結束！",-1)])),_:1}),l(B,null,{default:a(()=>[n("div",re,"Buddha: "+t(e.buddhaScore)+"分",1),n("div",de,"Guanyin: "+t(e.guanyinScore)+"分",1),n("div",ce,t(e.winner?`${e.winner} 獲勝！`:"平手！"),1)]),_:1}),l(V,{align:"right"},{default:a(()=>[l(b,{flat:"",label:"重新開始",color:"primary",onClick:e.resetGame},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(q,{modelValue:e.showWordInfo,"onUpdate:modelValue":s[2]||(s[2]=u=>e.showWordInfo=u)},{default:a(()=>[e.selectedCell?(m(),E(G,{key:0},{default:a(()=>[l(B,null,{default:a(()=>[n("div",pe,t(e.selectedCell.chinese),1),n("div",fe,t(e.selectedCell.points)+"分",1)]),_:1}),l(B,null,{default:a(()=>[s[7]||(s[7]=n("div",null,"可接受的英文答案：",-1)),n("div",he,t(e.selectedCell.english.join(", ")),1)]),_:1}),l(V,{align:"right"},{default:a(()=>[J(l(b,{flat:"",label:"關閉",color:"primary"},null,512),[[O]])]),_:1})]),_:1})):A("",!0)]),_:1},8,["modelValue"])]),_:1})}const Be=K(X,[["render",me],["__scopeId","data-v-779160f3"],["__file","NineGridGame.vue"]]);export{Be as default};
