import{N as C,r as y,b as g,_,P as l,R as u,S as n,V as t,U as o,Q,a0 as h,a1 as b,$ as v,W as m,Y as w,a2 as k}from"./index-T3pzRoQa.js";import{Q as A}from"./QInput-mdBLuTQw.js";import{Q as F}from"./QImg-BzPhWlav.js";import{Q as $}from"./QCardSection-DS3wLXiR.js";import{Q as B}from"./QCard-DpcXnXDG.js";import{Q as S}from"./QPage-C3-qOJY4.js";import{g as V,s as q,r as I}from"./index.esm2017-CfvkYQ_h.js";import"./use-file-dom-props-DymkBDVa.js";import"./use-id-NnCWL-jW.js";import"./use-dark-CX6Hn8ya.js";import"./focus-manager-BJWzFvJg.js";import"./use-timeout-Vf0zXUWx.js";import"./index.esm2017-DnFfU7Vi.js";const P=V(),N=C({name:"GalleryPage",props:{cards:{type:Array,default:()=>[]},user:{type:Object,default:()=>({})}},emits:["delete-card"],setup(a){const r=y(""),c=g(()=>{if(!r.value)return a.cards;const s=r.value.toLowerCase();return a.cards.filter(e=>e.description.toLowerCase().includes(s))});return{playCardAudio:s=>{if(s){const e=new SpeechSynthesisUtterance(s);e.lang="en-US",e.rate=.6,window.speechSynthesis.speak(e)}},deleteCard:s=>{if(window.confirm("確定要刪除這張卡片嗎？此動作無法復原。")){const e=a.cards.filter((d,i)=>i!==s);q(I(P,"cards"),e)}},searchQuery:r,filteredCards:c}}}),U={class:"word-card-list"},D={class:"search-bar q-mb-md"},E={class:"gallery-grid q-mt-lg"},G={class:"text-body1"},L={class:"row q-mt-sm justify-between"};function j(a,r,c,p,f,s){return l(),u(S,{class:"q-pa-md"},{default:n(()=>[t("div",U,[r[1]||(r[1]=t("h1",null,"AI 圖片描述畫廊",-1)),t("div",D,[o(A,{modelValue:a.searchQuery,"onUpdate:modelValue":r[0]||(r[0]=e=>a.searchQuery=e),outlined:"",dense:"",placeholder:"搜尋圖片描述...",class:"search-input",clearable:""},{append:n(()=>[o(Q,{name:"search"})]),_:1},8,["modelValue"])]),t("div",E,[(l(!0),h(k,null,b(a.filteredCards,(e,d)=>(l(),u(B,{key:d,class:"gallery-card q-ma-sm",flat:"",bordered:""},{default:n(()=>[o(F,{src:e.image,ratio:1,class:"gallery-image"},null,8,["src"]),o($,null,{default:n(()=>[t("div",G,v(e.description),1),t("div",L,[o(m,{color:"primary",icon:"volume_up",label:"播放發音",onClick:i=>a.playCardAudio(e.description),flat:""},null,8,["onClick"]),a.user&&a.user.isAdmin?(l(),u(m,{key:0,color:"negative",icon:"delete",label:"刪除",onClick:i=>a.deleteCard(d),flat:""},null,8,["onClick"])):w("",!0)])]),_:2},1024)]),_:2},1024))),128))])])]),_:1})}const ee=_(N,[["render",j],["__scopeId","data-v-163b8158"],["__file","GalleryPage.vue"]]);export{ee as default};
