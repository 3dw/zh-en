import{N as b,r as c,E as Q,_ as C,P as l,R as v,S as h,V as t,U as a,Q as V,X as $,$ as B,W as y,a0 as p,a1 as x,a2 as I,a5 as q}from"./index-ogN80PY1.js";import{Q as S}from"./QInput-DBauZuK9.js";import{Q as R}from"./QCardSection-CTWtOoZj.js";import{Q as E}from"./QCard-pvLSlSOR.js";import{Q as z}from"./QDialog-RD_eeNOT.js";import{Q as F}from"./QPage-Db9eiev5.js";import"./use-field-9eEjOZsc.js";import"./use-id-ByTOMxm9.js";import"./use-dark-DpO9ZDJ6.js";import"./focus-manager-DhdJisJs.js";import"./use-file-dom-props-s9kiYV3V.js";import"./use-key-composition-Cg76UZ0t.js";import"./use-timeout-D5cZhnC8.js";import"./use-tick-DpqbZFDk.js";const L=b({name:"Song2WordPage",setup(){const e=c("請看影片，聽歌曲，填入正確的數字單字"),s=c(!1),m=c(""),d=c(!1),f=c([]);function g(){f.value=[[{text:"",isBlank:!0,userInput:"",correctAnswer:"One"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"two"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"three"},{text:"little",isBlank:!1,userInput:"little"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Four"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"five"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"six"},{text:"little",isBlank:!1,userInput:"little"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Seven"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"eight"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"nine"},{text:"little",isBlank:!1,userInput:"little"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Ten"},{text:"little",isBlank:!1,userInput:"little"}]]}function n(){const r=new SpeechSynthesisUtterance(e.value);r.lang="zh-TW",speechSynthesis.speak(r)}function k(){d.value=!0;let r=!0;const w=[];if(f.value.forEach((o,i)=>{o.forEach(u=>{if(u.isBlank){const A=u.userInput.toLowerCase().trim(),_=u.correctAnswer?.toLowerCase()||"";A!==_&&(r=!1,w.push({userInput:u.userInput,correctAnswer:u.correctAnswer||"",position:`第 ${i+1} 行`}))}})}),r)m.value=`太棒了！全部答對了！
你已經學會了英文數字 1-10！`;else{let o=`還需要多練習：
`;w.forEach(i=>{o+=`${i.position}：你寫的「${i.userInput}」應該要是「${i.correctAnswer}」
`}),m.value=o}s.value=!0,setTimeout(()=>{s.value=!1,d.value=!1},3e3)}return Q(()=>{g(),n()}),{gameInstruction:e,lyricsLines:f,showResult:s,resultMessage:m,showingResult:d,speakInstruction:n,checkAnswer:k}}}),W={class:"row items-center q-mb-md"},P={class:"col"},T={class:"text-h6 q-mb-md text-center"},U={class:"row justify-center q-mt-lg"},K={class:"col-12 col-sm-10 col-md-8"},N={class:"row items-center q-gutter-sm"},j={key:1,class:"text-h6"},D={class:"row justify-center q-mt-lg"},M={class:"text-h6 text-center",style:{"white-space":"pre-line"}};function X(e,s,m,d,f,g){return l(),v(F,{class:"q-pa-md"},{default:h(()=>[t("div",W,[t("h1",P,[a(V,{name:"music_note",size:"md",color:"primary",class:"q-mr-sm"}),s[1]||(s[1]=$(" 英文兒歌克漏字學習 "))])]),t("div",T,[t("span",null,B(e.gameInstruction),1),a(y,{icon:"volume_up",color:"primary",round:"",size:"lg",class:"q-ml-sm",onClick:e.speakInstruction},null,8,["onClick"])]),s[2]||(s[2]=t("div",{class:"row justify-center q-mb-lg"},[t("div",{class:"col-12 col-sm-10 col-md-8"},[t("div",{class:"video-container"},[t("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/X6ERzozWKCQ",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})])])],-1)),t("div",U,[t("div",K,[(l(!0),p(I,null,x(e.lyricsLines,(n,k)=>(l(),p("div",{key:k,class:"q-mb-md"},[t("div",N,[(l(!0),p(I,null,x(n,(r,w)=>(l(),p(I,{key:`${k}-${w}`},[r.isBlank?(l(),v(S,{key:0,modelValue:r.userInput,"onUpdate:modelValue":o=>r.userInput=o,outlined:"",dense:"",class:"blank-input",disable:e.showingResult,onKeyup:q(e.checkAnswer,["enter"])},null,8,["modelValue","onUpdate:modelValue","disable","onKeyup"])):(l(),p("span",j,B(r.text),1))],64))),128))])]))),128)),t("div",D,[a(y,{label:"檢查答案",color:"primary",onClick:e.checkAnswer,disable:e.showingResult},null,8,["onClick","disable"])])])]),a(z,{modelValue:e.showResult,"onUpdate:modelValue":s[0]||(s[0]=n=>e.showResult=n)},{default:h(()=>[a(E,{style:{"min-width":"300px"}},{default:h(()=>[a(R,{class:"column items-center"},{default:h(()=>[t("span",M,B(e.resultMessage),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const ie=C(L,[["render",X],["__scopeId","data-v-2562fa51"],["__file","Song2WordPage.vue"]]);export{ie as default};
