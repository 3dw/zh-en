import{Q as c}from"./QBtn-C1fkeL2p.js";import{L as F,a as y,r as S,d as w,_ as I,N as d,a1 as p,a2 as $,a3 as b,U as t,C as _,a4 as C,R as u,a5 as h,W as k,V as L}from"./index-BZFfZTg2.js";const N=F({name:"FlashCard",props:{sentences:{type:Array,required:!0},searchQuery:{type:String,default:""}},setup(r,{emit:a}){const n=y(()=>{const e=r.searchQuery.toLowerCase().trim();return e?r.sentences.filter(o=>o.chinese.toLowerCase().includes(e)||o.english.toLowerCase().includes(e)):r.sentences}),v=e=>{const o=n.value[e];o&&(o.flipped=!o.flipped,o.flipped&&a("earn-xp",50))},f=e=>{const o=new SpeechSynthesisUtterance(e);o.lang="en-US",window.speechSynthesis.speak(o),a("earn-xp",50)},s=S((()=>{const e=localStorage.getItem("en_love_arr");return e?JSON.parse(e):[]})());return{filteredSentences:n,toggleCard:v,speak:f,isInFavorites:e=>s.value.some(o=>o.english===e.english&&o.chinese===e.chinese),toggleFavorite:async e=>{const o=s.value.findIndex(g=>g.english===e.english&&g.chinese===e.chinese);o===-1?(s.value.push({english:e.english,chinese:e.chinese}),a("earn-xp",100)):s.value.splice(o,1),localStorage.setItem("en_love_arr",JSON.stringify(s.value)),await w()}}}}),B={class:"cards-container"},Q=["onClick"],U={class:"card-front"},V={class:"heart-button"},q={class:"card-back"},D={class:"heart-button"};function J(r,a,n,v,f,m){return d(),p("div",B,[(d(!0),p($,null,b(r.filteredSentences,(s,l)=>(d(),p("div",{class:"card",key:l,onClick:i=>r.toggleCard(l)},[t("div",{class:L(["card-inner",{flipped:s.flipped}])},[_(t("div",U,[t("div",V,[u(c,{onClick:h(i=>r.toggleFavorite(s),["stop"]),icon:r.isInFavorites(s)?"favorite":"favorite_border",flat:"",round:"",color:"pink"},null,8,["onClick","icon"])]),t("p",null,k(s.chinese),1)],512),[[C,!s.flipped]]),_(t("div",q,[t("div",D,[u(c,{onClick:h(i=>r.toggleFavorite(s),["stop"]),icon:r.isInFavorites(s)?"favorite":"favorite_border",flat:"",round:"",color:"pink"},null,8,["onClick","icon"])]),t("p",null,k(s.english),1),u(c,{onClick:h(i=>r.speak(s.english),["stop"]),icon:"volume_up",flat:"",round:"",color:"primary"},null,8,["onClick"])],512),[[C,s.flipped]])],2)],8,Q))),128))])}const z=I(N,[["render",J],["__scopeId","data-v-4fcb6ef3"],["__file","FlashCard.vue"]]);export{z as F};
