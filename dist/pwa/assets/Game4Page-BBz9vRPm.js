import{Q as S}from"./QBadge-BRw0imSA.js";import{Q as C}from"./QBtn-BUApTgvM.js";import{Q as F}from"./QImg-kIYI9WpX.js";import{Q as L,a as M}from"./QCard-nbBGRqxT.js";import{Q as R}from"./QDialog-CrFRk62W.js";import{Q as j}from"./QPage-BpbSFIIL.js";import{F as q,r as a,o as N,_ as O,H as v,I as V,J as c,L as l,K as n,M as I,O as B,P as b,Q as P,R as Y}from"./index-Ciz7fihY.js";import"./QIcon-B5T-K79R.js";import"./Ripple-B2tlnNVr.js";import"./use-dark-JEmFQNrJ.js";import"./focus-manager-zjdVGI5d.js";const $="/assets/oldfriendsmeet-1dkOlloG.jpg",x="/assets/couplefight-fEEMF1_C.jpg",G=q({name:"Game4Page",setup(){const e=a(0),s=a(""),u=a(""),g=a([]),r=a(!1),d=a(""),t=a(!1),i=a(""),f=a([]),k=[{id:1,image:$,correctDialogue:`A: It's been so long! How have you been?
B: I missed you so much! Let's catch up!`,options:[{id:1,dialogue:`A: It's been so long! How have you been?
B: I missed you so much! Let's catch up!`,isCorrect:!0},{id:2,dialogue:`A: Why are you here? I thought we were meeting online.
B: Oh, I just wanted to surprise you.`,isCorrect:!1},{id:3,dialogue:`A: Do I know you? You look familiar.
B: Yes, we went to the same school for years!`,isCorrect:!1},{id:4,dialogue:`A: I thought you moved abroad!
B: No, I've been living next door to you all this time.`,isCorrect:!1}]},{id:2,image:x,correctDialogue:`A: You never listen to me anymore!
B: I do listen, but you don't give me a chance to explain!`,options:[{id:1,dialogue:`A: You never listen to me anymore!
B: I do listen, but you don't give me a chance to explain!`,isCorrect:!0},{id:2,dialogue:`A: Why did you eat my dessert?
B: I didn’t know it was yours, the fridge was empty!`,isCorrect:!1},{id:3,dialogue:`A: Let’s break up! I can’t stand your cooking.
B: Fine! I was tired of you complaining anyway.`,isCorrect:!1},{id:4,dialogue:`A: You forgot my birthday again!
B: No, I just wanted to surprise you tomorrow.`,isCorrect:!1}]}],p=localStorage.getItem("game4Level");p&&(e.value=parseInt(p));function h(){const o=k.filter(Q=>!f.value.includes(Q.id));if(o.length===0)return f.value=[],h();const D=Math.floor(Math.random()*o.length),m=o[D];f.value.push(m.id),s.value=m.image,u.value=m.correctDialogue,g.value=[...m.options].sort(()=>Math.random()-.5)}function y(){t.value=!1,i.value="",h(),w()}function w(){if(u.value){const o=new SpeechSynthesisUtterance(u.value);o.lang="en-US",o.rate=.8,speechSynthesis.speak(o)}}function _(o){i.value=o,t.value=!0,o===u.value?(d.value="答對了！",e.value++,localStorage.setItem("game4Level",e.value.toString()),r.value=!0,setTimeout(()=>{r.value=!1,y()},1500)):(d.value="答錯了，請再試一次！",r.value=!0,setTimeout(()=>{r.value=!1,t.value=!1},1500))}function A(o){return t.value?o===u.value&&o===i.value?"positive":o===i.value?"negative":"primary":"primary"}return N(()=>{y()}),{level:e,currentImage:s,currentOptions:g,showResult:r,resultMessage:d,showingResult:t,speakCurrentDialogue:w,checkAnswer:_,getButtonColor:A}}}),E={class:"row items-center q-mb-md"},H={class:"col-auto"},T={class:"text-h6 q-mb-md text-center"},U={class:"row justify-center q-mb-lg"},z={class:"col-12 col-sm-8 col-md-6"},W={class:"row q-col-gutter-md justify-center"},J={class:"text-h6"};function K(e,s,u,g,r,d){return v(),V(j,{class:"q-pa-md"},{default:c(()=>[l("div",E,[s[1]||(s[1]=l("h1",{class:"col"},"看圖選對白遊戲",-1)),l("div",H,[n(S,{color:"deep-orange",class:"text-h6"},{default:c(()=>[I(" Level: "+B(e.level),1)]),_:1})])]),l("div",T,[s[2]||(s[2]=I(" 請看圖片，聽對白，選出正確的對話 ")),n(C,{icon:"volume_up",color:"primary",round:"",size:"lg",class:"q-ml-sm",onClick:e.speakCurrentDialogue},null,8,["onClick"])]),l("div",U,[l("div",z,[n(F,{src:e.currentImage,style:{height:"300px"},fit:"contain",class:"rounded-borders"},null,8,["src"])])]),l("div",W,[(v(!0),b(Y,null,P(e.currentOptions,t=>(v(),b("div",{key:t.id,class:"col-12 col-sm-10 col-md-8"},[n(C,{label:t.dialogue,class:"dialogue-btn full-width",color:e.getButtonColor(t.dialogue),size:"lg",disable:e.showingResult,onClick:i=>e.checkAnswer(t.dialogue)},null,8,["label","color","disable","onClick"])]))),128))]),n(R,{modelValue:e.showResult,"onUpdate:modelValue":s[0]||(s[0]=t=>e.showResult=t)},{default:c(()=>[n(L,null,{default:c(()=>[n(M,{class:"row items-center"},{default:c(()=>[l("span",J,B(e.resultMessage),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const ie=O(G,[["render",K],["__scopeId","data-v-f2d92a2e"],["__file","Game4Page.vue"]]);export{ie as default};
