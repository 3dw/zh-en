import{Q as b}from"./QIcon-B5T-K79R.js";import{Q as v}from"./QBtn-BUApTgvM.js";import{Q}from"./QInput-BgrQbrZJ.js";import{Q as C,a as q}from"./QCard-nbBGRqxT.js";import{Q as S}from"./QDialog-CrFRk62W.js";import{Q as V}from"./QPage-BpbSFIIL.js";import{F as $,r as c,o as R,_ as F,H as r,I as y,J as h,L as t,K as a,M as L,O as I,P as p,Q as x,R as B,S as z}from"./index-Ciz7fihY.js";import"./Ripple-B2tlnNVr.js";import"./use-dark-JEmFQNrJ.js";import"./focus-manager-zjdVGI5d.js";const E=$({name:"Song2WordPage",setup(){const e=c("請看影片，聽歌曲，填入正確的數字單字"),s=c(!1),m=c(""),d=c(!1),f=c([]);function g(){f.value=[[{text:"",isBlank:!0,userInput:"",correctAnswer:"One"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"two"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"three"},{text:"little",isBlank:!1,userInput:"little"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Four"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"five"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"six"},{text:"little",isBlank:!1,userInput:"little"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Seven"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"eight"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"nine"},{text:"little",isBlank:!1,userInput:"little"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Ten"},{text:"little",isBlank:!1,userInput:"little"}]]}function n(){const l=new SpeechSynthesisUtterance(e.value);l.lang="zh-TW",speechSynthesis.speak(l)}function k(){d.value=!0;let l=!0;const w=[];if(f.value.forEach((o,u)=>{o.forEach(i=>{if(i.isBlank){const A=i.userInput.toLowerCase().trim(),_=i.correctAnswer?.toLowerCase()||"";A!==_&&(l=!1,w.push({userInput:i.userInput,correctAnswer:i.correctAnswer||"",position:`第 ${u+1} 行`}))}})}),l)m.value=`太棒了！全部答對了！
你已經學會了英文數字 1-10！`;else{let o=`還需要多練習：
`;w.forEach(u=>{o+=`${u.position}：你寫的「${u.userInput}」應該要是「${u.correctAnswer}」
`}),m.value=o}s.value=!0,setTimeout(()=>{s.value=!1,d.value=!1},3e3)}return R(()=>{g(),n()}),{gameInstruction:e,lyricsLines:f,showResult:s,resultMessage:m,showingResult:d,speakInstruction:n,checkAnswer:k}}}),K={class:"row items-center q-mb-md"},P={class:"col"},T={class:"text-h6 q-mb-md text-center"},W={class:"row justify-center q-mt-lg"},M={class:"col-12 col-sm-10 col-md-8"},U={class:"row items-center q-gutter-sm"},j={key:1,class:"text-h6"},D={class:"row justify-center q-mt-lg"},N={class:"text-h6 text-center",style:{"white-space":"pre-line"}};function O(e,s,m,d,f,g){return r(),y(V,{class:"q-pa-md"},{default:h(()=>[t("div",K,[t("h1",P,[a(b,{name:"music_note",size:"md",color:"primary",class:"q-mr-sm"}),s[1]||(s[1]=L(" 英文兒歌克漏字學習 "))])]),t("div",T,[t("span",null,I(e.gameInstruction),1),a(v,{icon:"volume_up",color:"primary",round:"",size:"lg",class:"q-ml-sm",onClick:e.speakInstruction},null,8,["onClick"])]),s[2]||(s[2]=t("div",{class:"row justify-center q-mb-lg"},[t("div",{class:"col-12 col-sm-10 col-md-8"},[t("div",{class:"video-container"},[t("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/X6ERzozWKCQ",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})])])],-1)),t("div",W,[t("div",M,[(r(!0),p(B,null,x(e.lyricsLines,(n,k)=>(r(),p("div",{key:k,class:"q-mb-md"},[t("div",U,[(r(!0),p(B,null,x(n,(l,w)=>(r(),p(B,{key:`${k}-${w}`},[l.isBlank?(r(),y(Q,{key:0,modelValue:l.userInput,"onUpdate:modelValue":o=>l.userInput=o,outlined:"",dense:"",class:"blank-input",disable:e.showingResult,onKeyup:z(e.checkAnswer,["enter"])},null,8,["modelValue","onUpdate:modelValue","disable","onKeyup"])):(r(),p("span",j,I(l.text),1))],64))),128))])]))),128)),t("div",D,[a(v,{label:"檢查答案",color:"primary",onClick:e.checkAnswer,disable:e.showingResult},null,8,["onClick","disable"])])])]),a(S,{modelValue:e.showResult,"onUpdate:modelValue":s[0]||(s[0]=n=>e.showResult=n)},{default:h(()=>[a(C,{style:{"min-width":"300px"}},{default:h(()=>[a(q,{class:"column items-center"},{default:h(()=>[t("span",N,I(e.resultMessage),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const re=F(E,[["render",O],["__scopeId","data-v-2562fa51"],["__file","Song2WordPage.vue"]]);export{re as default};
