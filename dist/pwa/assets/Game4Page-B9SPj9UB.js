import{Q as S}from"./QBadge-umS1vpDR.js";import{Q as C}from"./QBtn-wbOzmm8d.js";import{Q as F}from"./QImg-ByZJoLO8.js";import{Q as L,a as M}from"./QCard-CodJYgfH.js";import{Q as R}from"./QDialog-BFyo1eKo.js";import{Q as N}from"./QPage-DMYUgUf2.js";import{H as j,r as a,o as q,_ as O,J as p,K as V,L as c,N as l,M as n,O as B,Q as I,R as b,S as Y,U as $}from"./index-BWYx0HxW.js";import"./render-CVPBiWt0.js";import"./QIcon-DLcsl25K.js";import"./vm-ZhWpNCzJ.js";import"./Ripple-CnG757Fl.js";import"./use-timeout-Bx2pG5-m.js";import"./use-dark-CjzxUuLS.js";import"./focus-manager-zjdVGI5d.js";const x="/assets/oldfriendsmeet-1dkOlloG.jpg",G="/assets/couplefight-fEEMF1_C.jpg",P=j({name:"Game4Page",setup(){const e=a(0),s=a(""),r=a(""),g=a([]),u=a(!1),d=a(""),t=a(!1),i=a(""),f=a([]),k=[{id:1,image:x,correctDialogue:`A: It's been so long! How have you been?
B: I missed you so much! Let's catch up!`,options:[{id:1,dialogue:`A: It's been so long! How have you been?
B: I missed you so much! Let's catch up!`,isCorrect:!0},{id:2,dialogue:`A: Why are you here? I thought we were meeting online.
B: Oh, I just wanted to surprise you.`,isCorrect:!1},{id:3,dialogue:`A: Do I know you? You look familiar.
B: Yes, we went to the same school for years!`,isCorrect:!1},{id:4,dialogue:`A: I thought you moved abroad!
B: No, I've been living next door to you all this time.`,isCorrect:!1}]},{id:2,image:G,correctDialogue:`A: You never listen to me anymore!
B: I do listen, but you don't give me a chance to explain!`,options:[{id:1,dialogue:`A: You never listen to me anymore!
B: I do listen, but you don't give me a chance to explain!`,isCorrect:!0},{id:2,dialogue:`A: Why did you eat my dessert?
B: I didn’t know it was yours, the fridge was empty!`,isCorrect:!1},{id:3,dialogue:`A: Let’s break up! I can’t stand your cooking.
B: Fine! I was tired of you complaining anyway.`,isCorrect:!1},{id:4,dialogue:`A: You forgot my birthday again!
B: No, I just wanted to surprise you tomorrow.`,isCorrect:!1}]}],v=localStorage.getItem("game4Level");v&&(e.value=parseInt(v));function h(){const o=k.filter(Q=>!f.value.includes(Q.id));if(o.length===0)return f.value=[],h();const D=Math.floor(Math.random()*o.length),m=o[D];f.value.push(m.id),s.value=m.image,r.value=m.correctDialogue,g.value=[...m.options].sort(()=>Math.random()-.5)}function y(){t.value=!1,i.value="",h(),w()}function w(){if(r.value){const o=new SpeechSynthesisUtterance(r.value);o.lang="en-US",o.rate=.8,speechSynthesis.speak(o)}}function _(o){i.value=o,t.value=!0,o===r.value?(d.value="答對了！",e.value++,localStorage.setItem("game4Level",e.value.toString()),u.value=!0,setTimeout(()=>{u.value=!1,y()},1500)):(d.value="答錯了，請再試一次！",u.value=!0,setTimeout(()=>{u.value=!1,t.value=!1},1500))}function A(o){return t.value?o===r.value&&o===i.value?"positive":o===i.value?"negative":"primary":"primary"}return q(()=>{y()}),{level:e,currentImage:s,currentOptions:g,showResult:u,resultMessage:d,showingResult:t,speakCurrentDialogue:w,checkAnswer:_,getButtonColor:A}}}),U={class:"row items-center q-mb-md"},E={class:"col-auto"},H={class:"text-h6 q-mb-md text-center"},T={class:"row justify-center q-mb-lg"},z={class:"col-12 col-sm-8 col-md-6"},W={class:"row q-col-gutter-md justify-center"},J={class:"text-h6"};function K(e,s,r,g,u,d){return p(),V(N,{class:"q-pa-md"},{default:c(()=>[l("div",U,[s[1]||(s[1]=l("h1",{class:"col"},"看圖選對白遊戲",-1)),l("div",E,[n(S,{color:"deep-orange",class:"text-h6"},{default:c(()=>[B(" Level: "+I(e.level),1)]),_:1})])]),l("div",H,[s[2]||(s[2]=B(" 請看圖片，聽對白，選出正確的對話 ")),n(C,{icon:"volume_up",color:"primary",round:"",size:"lg",class:"q-ml-sm",onClick:e.speakCurrentDialogue},null,8,["onClick"])]),l("div",T,[l("div",z,[n(F,{src:e.currentImage,style:{height:"300px"},fit:"contain",class:"rounded-borders"},null,8,["src"])])]),l("div",W,[(p(!0),b($,null,Y(e.currentOptions,t=>(p(),b("div",{key:t.id,class:"col-12 col-sm-10 col-md-8"},[n(C,{label:t.dialogue,class:"dialogue-btn full-width",color:e.getButtonColor(t.dialogue),size:"lg",disable:e.showingResult,onClick:i=>e.checkAnswer(t.dialogue)},null,8,["label","color","disable","onClick"])]))),128))]),n(R,{modelValue:e.showResult,"onUpdate:modelValue":s[0]||(s[0]=t=>e.showResult=t)},{default:c(()=>[n(L,null,{default:c(()=>[n(M,{class:"row items-center"},{default:c(()=>[l("span",J,I(e.resultMessage),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const me=O(P,[["render",K],["__scopeId","data-v-f2d92a2e"],["__file","Game4Page.vue"]]);export{me as default};
