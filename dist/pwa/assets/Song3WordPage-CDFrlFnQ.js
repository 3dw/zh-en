import{Q}from"./QIcon-J5-OIdYx.js";import{Q as g}from"./QBtn-BE4rBFNG.js";import{Q as C}from"./QInput-DZ1o-9tL.js";import{Q as q,a as $}from"./QCard-BWiulilN.js";import{Q as V}from"./QDialog-DT748ebF.js";import{Q as S}from"./QPage-DkOXPIbB.js";import{G as L,r as c,o as R,_ as P,I as o,J as v,K as w,M as s,L as l,N as T,P as y,Q as p,R as A,S as h,V as z}from"./index-DFiGA5Zc.js";import"./render-BxNkMjcD.js";import"./vm-lekDuWU2.js";import"./Ripple-BXyBzazS.js";import"./use-id-Bc-FA7Ds.js";import"./use-dark-D4CnyHiY.js";import"./focus-manager-zjdVGI5d.js";import"./use-timeout-DxgT0Vfz.js";const E=L({name:"Song3WordPage",setup(){const e=c("請看影片，聽歌曲，填入正確的單字"),t=c(!1),m=c(""),d=c(!1),f=c([]);function B(){f.value=[[{text:"If",isBlank:!1,userInput:"If"},{text:"you're",isBlank:!1,userInput:"you're"},{text:"",isBlank:!0,userInput:"",correctAnswer:"happy"},{text:",",isBlank:!1,userInput:","},{text:"",isBlank:!0,userInput:"",correctAnswer:"clap"},{text:"your",isBlank:!1,userInput:"your"},{text:"",isBlank:!0,userInput:"",correctAnswer:"hands"}],[{text:"If",isBlank:!1,userInput:"If"},{text:"you're",isBlank:!1,userInput:"you're"},{text:"",isBlank:!0,userInput:"",correctAnswer:"angry"},{text:",",isBlank:!1,userInput:","},{text:"",isBlank:!0,userInput:"",correctAnswer:"stomp"},{text:"your",isBlank:!1,userInput:"your"},{text:"",isBlank:!0,userInput:"",correctAnswer:"feet"}],[{text:"If",isBlank:!1,userInput:"If"},{text:"you're",isBlank:!1,userInput:"you're"},{text:"",isBlank:!0,userInput:"",correctAnswer:"scared"},{text:",",isBlank:!1,userInput:","},{text:"say",isBlank:!1,userInput:"say"},{text:"",isBlank:!0,userInput:"",correctAnswer:"oh"},{text:"",isBlank:!0,userInput:"",correctAnswer:"no"}],[{text:"If",isBlank:!1,userInput:"If"},{text:"you're",isBlank:!1,userInput:"you're"},{text:"",isBlank:!0,userInput:"",correctAnswer:"sleepy"},{text:",",isBlank:!1,userInput:","},{text:"",isBlank:!0,userInput:"",correctAnswer:"take"},{text:"a",isBlank:!1,userInput:"a"},{text:"",isBlank:!0,userInput:"",correctAnswer:"nap"}]]}function a(){const r=new SpeechSynthesisUtterance(e.value);r.lang="zh-TW",speechSynthesis.speak(r)}function k(){d.value=!0;let r=!0;const I=[];if(f.value.forEach((n,u)=>{let x=0;n.forEach(i=>{if(i.isBlank){x++;const _=i.userInput.toLowerCase().trim(),b=i.correctAnswer?.toLowerCase()||"";_!==b&&(r=!1,I.push({userInput:i.userInput||"(空白)",correctAnswer:i.correctAnswer||"",position:`第 ${u+1} 行`,wordPosition:`第 ${x} 個空格`}))}})}),r)m.value=`恭喜你！🎉
全部答對了！
你已經學會了這些情緒和動作的英文表達！
繼續保持！`;else{let n=`加油！再試一次：

`;I.forEach(u=>{n+=`${u.position}${u.wordPosition}：
你的答案：「${u.userInput}」
正確答案：「${u.correctAnswer}」

`}),n+="提示：注意單字的拼寫喔！",m.value=n}t.value=!0,setTimeout(()=>{t.value=!1,d.value=!1},5e3)}return R(()=>{B(),a()}),{gameInstruction:e,lyricsLines:f,showResult:t,resultMessage:m,showingResult:d,speakInstruction:a,checkAnswer:k}}}),F={class:"row items-center q-mb-md"},M={class:"col"},D={class:"text-h6 q-mb-md text-center"},K={class:"row justify-center q-mt-lg"},N={class:"col-12 col-sm-10 col-md-8"},U={class:"row items-center q-gutter-sm"},W={key:1,class:"text-h6"},j={class:"row justify-center q-mt-lg"},J={class:"text-h6 text-center",style:{"white-space":"pre-line"}};function G(e,t,m,d,f,B){return o(),v(S,{class:"q-pa-md"},{default:w(()=>[s("div",F,[s("h1",M,[l(Q,{name:"music_note",size:"md",color:"primary",class:"q-mr-sm"}),t[1]||(t[1]=T(" 英文兒歌克漏字學習 "))])]),s("div",D,[s("span",null,y(e.gameInstruction),1),l(g,{icon:"volume_up",color:"primary",round:"",size:"lg",class:"q-ml-sm",onClick:e.speakInstruction},null,8,["onClick"])]),t[2]||(t[2]=s("div",{class:"row justify-center q-mb-lg"},[s("div",{class:"col-12 col-sm-10 col-md-8"},[s("div",{class:"video-container"},[s("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/wqvQAcloTRQ?si=Lq_YcJzxMTGluDxJ",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""})])])],-1)),s("div",K,[s("div",N,[(o(!0),p(h,null,A(e.lyricsLines,(a,k)=>(o(),p("div",{key:k,class:"q-mb-md"},[s("div",U,[(o(!0),p(h,null,A(a,(r,I)=>(o(),p(h,{key:`${k}-${I}`},[r.isBlank?(o(),v(C,{key:0,modelValue:r.userInput,"onUpdate:modelValue":n=>r.userInput=n,outlined:"",dense:"",class:"blank-input",disable:e.showingResult,onKeyup:z(e.checkAnswer,["enter"])},null,8,["modelValue","onUpdate:modelValue","disable","onKeyup"])):(o(),p("span",W,y(r.text),1))],64))),128))])]))),128)),s("div",j,[l(g,{label:"檢查答案",color:"primary",onClick:e.checkAnswer,disable:e.showingResult},null,8,["onClick","disable"])])])]),l(V,{modelValue:e.showResult,"onUpdate:modelValue":t[0]||(t[0]=a=>e.showResult=a)},{default:w(()=>[l(q,{style:{"min-width":"350px","max-width":"80vw"}},{default:w(()=>[l($,{class:"column items-center"},{default:w(()=>[s("span",J,y(e.resultMessage),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const ie=P(E,[["render",G],["__scopeId","data-v-9e33a1c7"],["__file","Song3WordPage.vue"]]);export{ie as default};
