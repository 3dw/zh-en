import{N as W,r,b as R,_ as U,P as h,R as k,S as o,V as n,U as l,Q as z,X as d,Z as y,a6 as g,$ as i,a0 as C,a1 as K,Y as A,a2 as L,W as _,a5 as T,t as X}from"./index-UjihqO3d.js";import{Q as Y}from"./QInput-Byf375NZ.js";import{Q as B}from"./QCardSection-CuOX7ocO.js";import{Q as G,C as Z}from"./ClosePopup-BWNaoVaI.js";import{Q}from"./QCard-BkJjBWao.js";import{Q as V}from"./QDialog-BXzMAm3g.js";import{Q as H}from"./QPage-CzvBLiTL.js";import"./use-file-dom-props-B-XjYtyc.js";import"./use-id-F4OpCJgO.js";import"./use-dark-T73MqeRw.js";import"./focus-manager-BJWzFvJg.js";import"./use-timeout-DW1L0Bdj.js";const J=W({name:"NineGridGame",setup(){const e=r([{chinese:"愛",english:["love","affection"],points:5,flipped:!1,owner:null},{chinese:"和平",english:["peace"],points:3,flipped:!1,owner:null},{chinese:"智慧",english:["wisdom"],points:4,flipped:!1,owner:null},{chinese:"慈悲",english:["mercy","compassion"],points:5,flipped:!1,owner:null},{chinese:"寧靜",english:["serenity","tranquility"],points:4,flipped:!1,owner:null},{chinese:"善良",english:["kindness"],points:3,flipped:!1,owner:null},{chinese:"信念",english:["faith","belief"],points:4,flipped:!1,owner:null},{chinese:"勇氣",english:["courage","bravery"],points:3,flipped:!1,owner:null},{chinese:"希望",english:["hope"],points:5,flipped:!1,owner:null}]),s=r("Buddha"),p=r(0),f=r(0),v=r(""),c=r(!1),u=r(!1),w=r(null),b=R(()=>c.value?p.value>f.value?"Buddha":f.value>p.value?"Guanyin":null:null);function q(){const a=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let m=0;m<a.length;m++){const t=a[m],$=t[0],P=t[1],j=t[2],D=e.value[$],F=e.value[P],E=e.value[j];if(D.flipped&&F.flipped&&E.flipped&&D.owner===F.owner&&F.owner===E.owner)return!0}return!1}function S(){const a=v.value.toLowerCase().trim();let m=!1;if(e.value.forEach(t=>{!t.flipped&&t.english.includes(a)&&(t.flipped=!0,t.owner=s.value,s.value==="Buddha"?p.value+=t.points:f.value+=t.points,m=!0)}),m){if(q()){c.value=!0;return}if(e.value.every(t=>t.flipped)){c.value=!0;return}}s.value=s.value==="Buddha"?"Guanyin":"Buddha",v.value=""}function I(a){w.value=a,u.value=!0}function N(){e.value.forEach(a=>{a.flipped=!1,a.owner=null}),p.value=0,f.value=0,s.value="Buddha",c.value=!1}return{grid:e,currentPlayer:s,buddhaScore:p,guanyinScore:f,answer:v,showResult:c,showWordInfo:u,selectedCell:w,winner:b,checkAnswer:S,showCellInfo:I,resetGame:N}}}),M={class:"row items-center q-mb-md"},O={class:"col"},x={class:"row q-mb-md justify-around"},ee={class:"text-h6 q-ml-sm"},se={class:"text-h6 q-ml-sm"},ne={class:"grid-container q-mb-lg"},ue=["onClick"],le={class:"cell-content"},oe={class:"chinese"},te={key:0,class:"points"},ie={key:1,class:"owner"},ae={class:"row q-gutter-md justify-center"},re={class:"text-h6"},de={class:"text-h6"},pe={class:"text-h5 q-mt-md"},fe={class:"text-h6"},ce={class:"text-subtitle2"},me={class:"text-body1"};function he(e,s,p,f,v,c){return h(),k(H,{class:"q-pa-md"},{default:o(()=>[n("div",M,[n("h1",O,[l(z,{name:"grid_view",size:"md",color:"primary",class:"q-mr-sm"}),s[3]||(s[3]=d(" 雙人中英文九宮格連連看： "))])]),s[8]||(s[8]=n("div",{class:"row q-mb-md justify-around"},[n("p",{class:"col"},[d(" 說明：佛陀(Buddha)和觀音(Guanyin)，"),n("br"),d(" 輪流翻開九宮格，"),n("br"),d(" 如果翻開的九宮格中有三個連成一線，遊戲結束，並顯示勝利者。"),n("br")])],-1)),n("div",x,[n("div",{class:y(["score-card",{"current-player":e.currentPlayer==="Buddha"}])},[l(g,{color:"deep-purple","text-color":"white"},{default:o(()=>s[4]||(s[4]=[d("B")])),_:1}),n("div",ee,"佛陀(Buddha): "+i(e.buddhaScore),1)],2),n("div",{class:y(["score-card",{"current-player":e.currentPlayer==="Guanyin"}])},[l(g,{color:"teal","text-color":"white"},{default:o(()=>s[5]||(s[5]=[d("G")])),_:1}),n("div",se,"觀音(Guanyin): "+i(e.guanyinScore),1)],2)]),n("div",ne,[(h(!0),C(L,null,K(e.grid,(u,w)=>(h(),C("div",{key:w,class:y(["grid-cell",{flipped:u.flipped}]),onClick:b=>e.showCellInfo(u)},[n("div",le,[n("div",oe,i(u.chinese),1),u.flipped?A("",!0):(h(),C("div",te,i(u.points)+"分",1)),u.flipped?(h(),C("div",ie,[l(g,{color:u.owner==="Buddha"?"deep-purple":"teal",size:"sm"},{default:o(()=>[d(i(u.owner==="Buddha"?"B":"G"),1)]),_:2},1032,["color"])])):A("",!0)])],10,ue))),128))]),n("div",ae,[l(Y,{modelValue:e.answer,"onUpdate:modelValue":s[0]||(s[0]=u=>e.answer=u),outlined:"",label:`${e.currentPlayer}的回答`,onKeyup:T(e.checkAnswer,["enter"])},{append:o(()=>[l(_,{round:"",dense:"",flat:"",icon:"send",onClick:e.checkAnswer},null,8,["onClick"])]),_:1},8,["modelValue","label","onKeyup"])]),l(V,{modelValue:e.showResult,"onUpdate:modelValue":s[1]||(s[1]=u=>e.showResult=u)},{default:o(()=>[l(Q,null,{default:o(()=>[l(B,{class:"row items-center"},{default:o(()=>s[6]||(s[6]=[n("div",{class:"text-h6"},"遊戲結束！",-1)])),_:1}),l(B,null,{default:o(()=>[n("div",re,"Buddha: "+i(e.buddhaScore)+"分",1),n("div",de,"Guanyin: "+i(e.guanyinScore)+"分",1),n("div",pe,i(e.winner?`${e.winner} 獲勝！`:"平手！"),1)]),_:1}),l(G,{align:"right"},{default:o(()=>[l(_,{flat:"",label:"重新開始",color:"primary",onClick:e.resetGame},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(V,{modelValue:e.showWordInfo,"onUpdate:modelValue":s[2]||(s[2]=u=>e.showWordInfo=u)},{default:o(()=>[e.selectedCell?(h(),k(Q,{key:0},{default:o(()=>[l(B,null,{default:o(()=>[n("div",fe,i(e.selectedCell.chinese),1),n("div",ce,i(e.selectedCell.points)+"分",1)]),_:1}),l(B,null,{default:o(()=>[s[7]||(s[7]=n("div",null,"可接受的英文答案：",-1)),n("div",me,i(e.selectedCell.english.join(", ")),1)]),_:1}),l(G,{align:"right"},{default:o(()=>[X(l(_,{flat:"",label:"關閉",color:"primary"},null,512),[[Z]])]),_:1})]),_:1})):A("",!0)]),_:1},8,["modelValue"])]),_:1})}const ke=U(J,[["render",he],["__scopeId","data-v-779160f3"],["__file","NineGridGame.vue"]]);export{ke as default};
