import{c as me,r as I,b as T,w as R,f as H,G as W,B as M,h as N,T as ke,j as we,d as he,x as Be,N as Ie,o as ve,_ as xe,P as B,R as U,S as p,V as s,U as a,Q as ge,X as _,$ as C,W as A,a0 as y,a1 as F,a2 as Q,a5 as Ae,t as ye}from"./index-oyecPoUy.js";import{u as be,v as K,a as Te,p as X,b as Ce,c as Se,r as G,s as Pe,d as qe}from"./position-engine-pQVX3LIU.js";import{u as Ee,i as O,s as _e,a as Qe,j as Oe,k as ze,b as De,l as Ve,g as je,Q as $e}from"./QDialog-M4jB1vhB.js";import{u as Le}from"./use-timeout-BBbJIiTu.js";import{c as Y}from"./selection-zaVtD-50.js";import{Q as Re}from"./QInput-BkgstQiK.js";import{Q as J}from"./QCardSection-voP_8Fi_.js";import{Q as He,C as We}from"./ClosePopup-vZEClGn_.js";import{Q as Me}from"./QCard-KM0G3PhR.js";import{Q as Ne}from"./QPage-CZ8X5B-Q.js";import"./focus-manager-BJWzFvJg.js";import"./use-file-dom-props-CiLy_-h4.js";import"./use-id-Cml7HzWp.js";import"./use-dark-mAQ2BGrB.js";const Z=me({name:"QTooltip",inheritAttrs:!1,props:{...be,...Ee,...O,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...O.transitionShow,default:"jump-down"},transitionHide:{...O.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:K},self:{type:String,default:"top middle",validator:K},offset:{type:Array,default:()=>[14,14],validator:Te},scrollTarget:_e,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Qe],setup(e,{slots:t,emit:k,attrs:f}){let i,d;const c=we(),{proxy:{$q:r}}=c,l=I(null),n=I(!1),o=T(()=>X(e.anchor,r.lang.rtl)),v=T(()=>X(e.self,r.lang.rtl)),w=T(()=>e.persistent!==!0),{registerTick:S,removeTick:P}=Oe(),{registerTimeout:b}=Le(),{transitionProps:ee,transitionStyle:te}=ze(e),{localScrollTarget:z,changeScrollEvent:se,unconfigureScrollTarget:re}=Ce(e,$),{anchorEl:m,canShow:ne,anchorEvents:x}=Se({showing:n,configureAnchorEl:de}),{show:ue,hide:q}=De({showing:n,canShow:ne,handleShow:ae,handleHide:le,hideOnRouteChange:w,processOnMount:!0});Object.assign(x,{delayShow:ie,delayHide:ce});const{showPortal:D,hidePortal:V,renderPortal:oe}=Ve(c,l,fe,"tooltip");if(r.platform.is.mobile===!0){const u={anchorEl:m,innerRef:l,onClickOutside(h){return q(h),h.target.classList.contains("q-dialog__backdrop")&&Be(h),!0}},E=T(()=>e.modelValue===null&&e.persistent!==!0&&n.value===!0);R(E,h=>{(h===!0?qe:G)(u)}),H(()=>{G(u)})}function ae(u){D(),S(()=>{d=new MutationObserver(()=>g()),d.observe(l.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),g(),$()}),i===void 0&&(i=R(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,g)),b(()=>{D(!0),k("show",u)},e.transitionDuration)}function le(u){P(),V(),j(),b(()=>{V(!0),k("hide",u)},e.transitionDuration)}function j(){d!==void 0&&(d.disconnect(),d=void 0),i!==void 0&&(i(),i=void 0),re(),W(x,"tooltipTemp")}function g(){Pe({targetEl:l.value,offset:e.offset,anchorEl:m.value,anchorOrigin:o.value,selfOrigin:v.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ie(u){if(r.platform.is.mobile===!0){Y(),document.body.classList.add("non-selectable");const E=m.value,h=["touchmove","touchcancel","touchend","click"].map(L=>[E,L,"delayHide","passiveCapture"]);M(x,"tooltipTemp",h)}b(()=>{ue(u)},e.delay)}function ce(u){r.platform.is.mobile===!0&&(W(x,"tooltipTemp"),Y(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),b(()=>{q(u)},e.hideDelay)}function de(){if(e.noParentEvent===!0||m.value===null)return;const u=r.platform.is.mobile===!0?[[m.value,"touchstart","delayShow","passive"]]:[[m.value,"mouseenter","delayShow","passive"],[m.value,"mouseleave","delayHide","passive"]];M(x,"anchor",u)}function $(){if(m.value!==null||e.scrollTarget!==void 0){z.value=je(m.value,e.scrollTarget);const u=e.noParentEvent===!0?g:q;se(z.value,u)}}function pe(){return n.value===!0?N("div",{...f,ref:l,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",f.class],style:[f.style,te.value],role:"tooltip"},he(t.default)):null}function fe(){return N(ke,ee.value,pe)}return H(j),Object.assign(c.proxy,{updatePosition:g}),oe}}),Ue=Ie({name:"Song4WordPage",setup(){const e=I({zh:"請看影片，聽歌曲，填入正確的單字",en:"Watch the video, listen to the song, and fill in the correct words"}),t=I(!1),k=I(""),f=I(!1),i=I([]),d=n=>{const o=new SpeechSynthesisUtterance(n==="zh"?e.value.zh:e.value.en);o.lang=n==="zh"?"zh-TW":"en-US",o.rate=.9,speechSynthesis.speak(o)};function c(){i.value=[[{text:"",isBlank:!0,userInput:"",correctAnswer:"A"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"apple"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"B"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"banana"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"C"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"cake"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"D"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"duck"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"E"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"elephant"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"F"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"fish"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"G"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"guitar"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"H"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"hat"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"I"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"igloo"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"J"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"juice"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"K"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"kitten"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"L"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"lemon"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"M"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"mittens"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"N"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"nest"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"O"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"orange"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"P"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"pig"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Q"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"queen"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"R"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"ring"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"S"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"socks"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"T"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"teddybear"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"U"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"umbrella"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"V"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"vegetables"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"W"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"wolf"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"X"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"xylophone"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Y"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"yoyo"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Z"},{text:"is for",isBlank:!1,userInput:""},{text:"",isBlank:!0,userInput:"",correctAnswer:"zipper"}]]}const r=()=>{f.value=!0;let n=!0;const o=[];i.value.forEach(v=>{v.forEach(w=>{if(w.isBlank){const S=w.userInput.toLowerCase().trim(),P=w.correctAnswer?.toLowerCase()||"";S!==P&&(n=!1,o.push({userInput:w.userInput||"(空白)",correctAnswer:w.correctAnswer||""}))}})}),n?k.value=`太棒了！
你已經學會這些字母和單字了！`:k.value=`再試一次：
`+o.map(v=>`你的答案：${v.userInput}
正確答案：${v.correctAnswer}`).join(`

`),t.value=!0,setTimeout(()=>{t.value=!1,f.value=!1},3e3)},l=()=>{i.value.forEach(n=>{n.forEach(o=>{o.isBlank&&(o.userInput="")})}),t.value=!1,f.value=!1};return ve(()=>{c(),setTimeout(()=>{d("zh"),setTimeout(()=>{d("en")},3e3)},500)}),{gameInstruction:e,lyricsLines:i,showResult:t,resultMessage:k,showingResult:f,speakInstruction:d,checkAnswer:r,resetAnswers:l}}}),Fe={class:"row items-center q-mb-md"},Ke={class:"col"},Xe={class:"text-h6 q-mb-md text-center"},Ge={class:"row justify-center items-center q-gutter-md"},Ye={class:"text-subtitle1"},Je={class:"row q-gutter-sm"},Ze={class:"row justify-center q-mt-lg"},et={class:"col-12 col-sm-10 col-md-8"},tt={class:"row items-center q-gutter-sm"},st={key:1,class:"text-h6"},rt={class:"row justify-center q-mt-lg"},nt={class:"text-body1",style:{"white-space":"pre-line"}};function ut(e,t,k,f,i,d){return B(),U(Ne,{class:"q-pa-md"},{default:p(()=>[s("div",Fe,[s("h1",Ke,[a(ge,{name:"music_note",size:"md",color:"primary",class:"q-mr-sm"}),t[3]||(t[3]=_(" 英文兒歌克漏字學習 "))])]),s("div",Xe,[s("div",Ge,[s("div",null,[s("div",null,C(e.gameInstruction.zh),1),s("div",Ye,C(e.gameInstruction.en),1)]),s("div",Je,[a(A,{icon:"volume_up",color:"primary",round:"",size:"md",onClick:t[0]||(t[0]=c=>e.speakInstruction("zh")),class:"q-mr-sm"},{default:p(()=>[a(Z,null,{default:p(()=>t[4]||(t[4]=[_("中文說明")])),_:1})]),_:1}),a(A,{icon:"volume_up",color:"secondary",round:"",size:"md",onClick:t[1]||(t[1]=c=>e.speakInstruction("en"))},{default:p(()=>[a(Z,null,{default:p(()=>t[5]||(t[5]=[_("English Instruction")])),_:1})]),_:1})])])]),t[7]||(t[7]=s("div",{class:"row justify-center q-mb-lg"},[s("div",{class:"col-12 col-sm-10 col-md-8"},[s("div",{class:"video-container"},[s("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/ChqnN3cKzXQ",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})])])],-1)),s("div",Ze,[s("div",et,[(B(!0),y(Q,null,F(e.lyricsLines,(c,r)=>(B(),y("div",{key:r,class:"q-mb-md"},[s("div",tt,[(B(!0),y(Q,null,F(c,(l,n)=>(B(),y(Q,{key:`${r}-${n}`},[l.isBlank?(B(),U(Re,{key:0,modelValue:l.userInput,"onUpdate:modelValue":o=>l.userInput=o,outlined:"",dense:"",class:"blank-input",disable:e.showingResult,onKeyup:Ae(e.checkAnswer,["enter"])},null,8,["modelValue","onUpdate:modelValue","disable","onKeyup"])):(B(),y("span",st,C(l.text),1))],64))),128))])]))),128)),s("div",rt,[a(A,{label:"檢查答案",color:"primary",onClick:e.checkAnswer,disable:e.showingResult,class:"q-mx-sm"},null,8,["onClick","disable"]),a(A,{label:"重新開始",color:"secondary",onClick:e.resetAnswers,disable:e.showingResult,class:"q-mx-sm"},null,8,["onClick","disable"])])])]),a($e,{modelValue:e.showResult,"onUpdate:modelValue":t[2]||(t[2]=c=>e.showResult=c)},{default:p(()=>[a(Me,{style:{"min-width":"350px"}},{default:p(()=>[a(J,null,{default:p(()=>t[6]||(t[6]=[s("div",{class:"text-h6"},"檢查結果",-1)])),_:1}),a(J,{class:"q-pt-none"},{default:p(()=>[s("div",nt,C(e.resultMessage),1)]),_:1}),a(He,{align:"right"},{default:p(()=>[ye(a(A,{flat:"",label:"關閉",color:"primary"},null,512),[[We]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const vt=xe(Ue,[["render",ut],["__scopeId","data-v-8d076f63"],["__file","Song4WordPage.vue"]]);export{vt as default};
