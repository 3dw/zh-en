import{N as b,r as c,o as Q,_ as C,P as r,R as v,S as h,V as t,U as o,Q as V,X as $,$ as B,W as y,a0 as p,a1 as x,a2 as I,a5 as q}from"./index-IpfxRuv_.js";import{Q as S}from"./QInput-CyEXtkKz.js";import{Q as R}from"./QCardSection-CVB4tjss.js";import{Q as z}from"./QCard-DY-Nc2yG.js";import{Q as E}from"./QDialog-BFfh_pE3.js";import{Q as F}from"./QPage-CijVNCEA.js";import"./use-file-dom-props-B9F6mbdT.js";import"./use-id-Bl3UjeAo.js";import"./use-dark-D9cDyLTc.js";import"./focus-manager-BJWzFvJg.js";import"./use-timeout-CbdeV14A.js";const L=b({name:"Song2WordPage",setup(){const e=c("請看影片，聽歌曲，填入正確的數字單字"),s=c(!1),m=c(""),d=c(!1),f=c([]);function g(){f.value=[[{text:"",isBlank:!0,userInput:"",correctAnswer:"One"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"two"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"three"},{text:"little",isBlank:!1,userInput:"little"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Four"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"five"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"six"},{text:"little",isBlank:!1,userInput:"little"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Seven"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"eight"},{text:"little,",isBlank:!1,userInput:"little,"},{text:"",isBlank:!0,userInput:"",correctAnswer:"nine"},{text:"little",isBlank:!1,userInput:"little"}],[{text:"",isBlank:!0,userInput:"",correctAnswer:"Ten"},{text:"little",isBlank:!1,userInput:"little"}]]}function n(){const l=new SpeechSynthesisUtterance(e.value);l.lang="zh-TW",speechSynthesis.speak(l)}function k(){d.value=!0;let l=!0;const w=[];if(f.value.forEach((a,u)=>{a.forEach(i=>{if(i.isBlank){const A=i.userInput.toLowerCase().trim(),_=i.correctAnswer?.toLowerCase()||"";A!==_&&(l=!1,w.push({userInput:i.userInput,correctAnswer:i.correctAnswer||"",position:`第 ${u+1} 行`}))}})}),l)m.value=`太棒了！全部答對了！
你已經學會了英文數字 1-10！`;else{let a=`還需要多練習：
`;w.forEach(u=>{a+=`${u.position}：你寫的「${u.userInput}」應該要是「${u.correctAnswer}」
`}),m.value=a}s.value=!0,setTimeout(()=>{s.value=!1,d.value=!1},3e3)}return Q(()=>{g(),n()}),{gameInstruction:e,lyricsLines:f,showResult:s,resultMessage:m,showingResult:d,speakInstruction:n,checkAnswer:k}}}),W={class:"row items-center q-mb-md"},P={class:"col"},T={class:"text-h6 q-mb-md text-center"},U={class:"row justify-center q-mt-lg"},K={class:"col-12 col-sm-10 col-md-8"},N={class:"row items-center q-gutter-sm"},j={key:1,class:"text-h6"},D={class:"row justify-center q-mt-lg"},M={class:"text-h6 text-center",style:{"white-space":"pre-line"}};function X(e,s,m,d,f,g){return r(),v(F,{class:"q-pa-md"},{default:h(()=>[t("div",W,[t("h1",P,[o(V,{name:"music_note",size:"md",color:"primary",class:"q-mr-sm"}),s[1]||(s[1]=$(" 英文兒歌克漏字學習 "))])]),t("div",T,[t("span",null,B(e.gameInstruction),1),o(y,{icon:"volume_up",color:"primary",round:"",size:"lg",class:"q-ml-sm",onClick:e.speakInstruction},null,8,["onClick"])]),s[2]||(s[2]=t("div",{class:"row justify-center q-mb-lg"},[t("div",{class:"col-12 col-sm-10 col-md-8"},[t("div",{class:"video-container"},[t("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/X6ERzozWKCQ",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})])])],-1)),t("div",U,[t("div",K,[(r(!0),p(I,null,x(e.lyricsLines,(n,k)=>(r(),p("div",{key:k,class:"q-mb-md"},[t("div",N,[(r(!0),p(I,null,x(n,(l,w)=>(r(),p(I,{key:`${k}-${w}`},[l.isBlank?(r(),v(S,{key:0,modelValue:l.userInput,"onUpdate:modelValue":a=>l.userInput=a,outlined:"",dense:"",class:"blank-input",disable:e.showingResult,onKeyup:q(e.checkAnswer,["enter"])},null,8,["modelValue","onUpdate:modelValue","disable","onKeyup"])):(r(),p("span",j,B(l.text),1))],64))),128))])]))),128)),t("div",D,[o(y,{label:"檢查答案",color:"primary",onClick:e.checkAnswer,disable:e.showingResult},null,8,["onClick","disable"])])])]),o(E,{modelValue:e.showResult,"onUpdate:modelValue":s[0]||(s[0]=n=>e.showResult=n)},{default:h(()=>[o(z,{style:{"min-width":"300px"}},{default:h(()=>[o(R,{class:"column items-center"},{default:h(()=>[t("span",M,B(e.resultMessage),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const ne=C(L,[["render",X],["__scopeId","data-v-2562fa51"],["__file","Song2WordPage.vue"]]);export{ne as default};
