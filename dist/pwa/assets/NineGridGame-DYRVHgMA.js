import{Q as W}from"./QIcon-BFElmAIa.js";import{Q as y}from"./QAvatar-ooyvVmhe.js";import{Q as g}from"./QBtn-BN2dPKtL.js";import{Q as K}from"./QInput-BF3Ufa57.js";import{Q as E,a as C}from"./QCard-acGhKqne.js";import{Q,C as L}from"./ClosePopup-DDXWfazD.js";import{Q as G}from"./QDialog-3wul63i7.js";import{Q as R}from"./QPage-CmfxacUL.js";import{G as z,r,a as U,_ as J,I as h,J as V,K as o,M as n,L as l,N as d,O as A,P as i,Q as B,R as M,W as _,S as O,V as T,k as H}from"./index-Ddhnzga_.js";import"./render-8R32w0vY.js";import"./vm-fRTQ07Ez.js";import"./Ripple-DfmhhknT.js";import"./use-id-uLkCUpV-.js";import"./use-dark-Nb0intFv.js";import"./focus-manager-zjdVGI5d.js";import"./use-timeout-BQA2sr17.js";const X=z({name:"NineGridGame",setup(){const e=r([{chinese:"愛",english:["love","affection"],points:5,flipped:!1,owner:null},{chinese:"和平",english:["peace"],points:3,flipped:!1,owner:null},{chinese:"智慧",english:["wisdom"],points:4,flipped:!1,owner:null},{chinese:"慈悲",english:["mercy","compassion"],points:5,flipped:!1,owner:null},{chinese:"寧靜",english:["serenity","tranquility"],points:4,flipped:!1,owner:null},{chinese:"善良",english:["kindness"],points:3,flipped:!1,owner:null},{chinese:"信念",english:["faith","belief"],points:4,flipped:!1,owner:null},{chinese:"勇氣",english:["courage","bravery"],points:3,flipped:!1,owner:null},{chinese:"希望",english:["hope"],points:5,flipped:!1,owner:null}]),s=r("Buddha"),p=r(0),f=r(0),v=r(""),c=r(!1),u=r(!1),w=r(null),D=U(()=>c.value?p.value>f.value?"Buddha":f.value>p.value?"Guanyin":null:null);function q(){const a=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let m=0;m<a.length;m++){const t=a[m],P=t[0],$=t[1],j=t[2],b=e.value[P],F=e.value[$],k=e.value[j];if(b.flipped&&F.flipped&&k.flipped&&b.owner===F.owner&&F.owner===k.owner)return!0}return!1}function I(){const a=v.value.toLowerCase().trim();let m=!1;if(e.value.forEach(t=>{!t.flipped&&t.english.includes(a)&&(t.flipped=!0,t.owner=s.value,s.value==="Buddha"?p.value+=t.points:f.value+=t.points,m=!0)}),m){if(q()){c.value=!0;return}if(e.value.every(t=>t.flipped)){c.value=!0;return}}s.value=s.value==="Buddha"?"Guanyin":"Buddha",v.value=""}function S(a){w.value=a,u.value=!0}function N(){e.value.forEach(a=>{a.flipped=!1,a.owner=null}),p.value=0,f.value=0,s.value="Buddha",c.value=!1}return{grid:e,currentPlayer:s,buddhaScore:p,guanyinScore:f,answer:v,showResult:c,showWordInfo:u,selectedCell:w,winner:D,checkAnswer:I,showCellInfo:S,resetGame:N}}}),Y={class:"row items-center q-mb-md"},Z={class:"col"},x={class:"row q-mb-md justify-around"},ee={class:"text-h6 q-ml-sm"},se={class:"text-h6 q-ml-sm"},ne={class:"grid-container q-mb-lg"},ue=["onClick"],le={class:"cell-content"},oe={class:"chinese"},te={key:0,class:"points"},ie={key:1,class:"owner"},ae={class:"row q-gutter-md justify-center"},re={class:"text-h6"},de={class:"text-h6"},pe={class:"text-h5 q-mt-md"},fe={class:"text-h6"},ce={class:"text-subtitle2"},me={class:"text-body1"};function he(e,s,p,f,v,c){return h(),V(R,{class:"q-pa-md"},{default:o(()=>[n("div",Y,[n("h1",Z,[l(W,{name:"grid_view",size:"md",color:"primary",class:"q-mr-sm"}),s[3]||(s[3]=d(" 雙人中英文九宮格連連看： "))])]),s[8]||(s[8]=n("div",{class:"row q-mb-md justify-around"},[n("p",{class:"col"},[d(" 說明：佛陀(Buddha)和觀音(Guanyin)，"),n("br"),d(" 輪流翻開九宮格，"),n("br"),d(" 如果翻開的九宮格中有三個連成一線，遊戲結束，並顯示勝利者。"),n("br")])],-1)),n("div",x,[n("div",{class:A(["score-card",{"current-player":e.currentPlayer==="Buddha"}])},[l(y,{color:"deep-purple","text-color":"white"},{default:o(()=>s[4]||(s[4]=[d("B")])),_:1}),n("div",ee,"佛陀(Buddha): "+i(e.buddhaScore),1)],2),n("div",{class:A(["score-card",{"current-player":e.currentPlayer==="Guanyin"}])},[l(y,{color:"teal","text-color":"white"},{default:o(()=>s[5]||(s[5]=[d("G")])),_:1}),n("div",se,"觀音(Guanyin): "+i(e.guanyinScore),1)],2)]),n("div",ne,[(h(!0),B(O,null,M(e.grid,(u,w)=>(h(),B("div",{key:w,class:A(["grid-cell",{flipped:u.flipped}]),onClick:D=>e.showCellInfo(u)},[n("div",le,[n("div",oe,i(u.chinese),1),u.flipped?_("",!0):(h(),B("div",te,i(u.points)+"分",1)),u.flipped?(h(),B("div",ie,[l(y,{color:u.owner==="Buddha"?"deep-purple":"teal",size:"sm"},{default:o(()=>[d(i(u.owner==="Buddha"?"B":"G"),1)]),_:2},1032,["color"])])):_("",!0)])],10,ue))),128))]),n("div",ae,[l(K,{modelValue:e.answer,"onUpdate:modelValue":s[0]||(s[0]=u=>e.answer=u),outlined:"",label:`${e.currentPlayer}的回答`,onKeyup:T(e.checkAnswer,["enter"])},{append:o(()=>[l(g,{round:"",dense:"",flat:"",icon:"send",onClick:e.checkAnswer},null,8,["onClick"])]),_:1},8,["modelValue","label","onKeyup"])]),l(G,{modelValue:e.showResult,"onUpdate:modelValue":s[1]||(s[1]=u=>e.showResult=u)},{default:o(()=>[l(E,null,{default:o(()=>[l(C,{class:"row items-center"},{default:o(()=>s[6]||(s[6]=[n("div",{class:"text-h6"},"遊戲結束！",-1)])),_:1}),l(C,null,{default:o(()=>[n("div",re,"Buddha: "+i(e.buddhaScore)+"分",1),n("div",de,"Guanyin: "+i(e.guanyinScore)+"分",1),n("div",pe,i(e.winner?`${e.winner} 獲勝！`:"平手！"),1)]),_:1}),l(Q,{align:"right"},{default:o(()=>[l(g,{flat:"",label:"重新開始",color:"primary",onClick:e.resetGame},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(G,{modelValue:e.showWordInfo,"onUpdate:modelValue":s[2]||(s[2]=u=>e.showWordInfo=u)},{default:o(()=>[e.selectedCell?(h(),V(E,{key:0},{default:o(()=>[l(C,null,{default:o(()=>[n("div",fe,i(e.selectedCell.chinese),1),n("div",ce,i(e.selectedCell.points)+"分",1)]),_:1}),l(C,null,{default:o(()=>[s[7]||(s[7]=n("div",null,"可接受的英文答案：",-1)),n("div",me,i(e.selectedCell.english.join(", ")),1)]),_:1}),l(Q,{align:"right"},{default:o(()=>[H(l(g,{flat:"",label:"關閉",color:"primary"},null,512),[[L]])]),_:1})]),_:1})):_("",!0)]),_:1},8,["modelValue"])]),_:1})}const qe=J(X,[["render",he],["__scopeId","data-v-779160f3"],["__file","NineGridGame.vue"]]);export{qe as default};
